import{l as Mt,R as L,c as De,A as ur,ay as Jt,r as O,u as Ae,T as it,B as $t,a6 as er,W as tr,V as rr,ao as nr,P as Rt,Y as Be,M as Ca,aq as tn,a7 as lt,j as $e,ab as Bt,b as j,aI as rn,aJ as Ma,aK as $a,G as nn,k as ka,F as Ra,aL as La,as as Ia,I as Ea,K as Lt,D as Ta,N as Na}from"./index-7a329043.js";import{I as We,c as qt,u as Fa,L as ja}from"./useCollectionDataPersistent-94b1f33f.js";import{C as dr,c as Oe,d as an,Q as on,p as d,R as Ya,w as et,X as za,M as ar,T as Aa,F as sn,t as ln,a as Ba,V as Ze,b as qa,e as Va,f as Wa,k as Ha,i as cn,g as un,h as or,E as Ga,j as Ka,l as Xa,u as Ua,A as dn,W as ct,B as Za,m as Qa,n as Ja,o as eo,r as to,P as fr,S as ro,q as pr,s as no,H as ao,J as oo,v as hr,x as so,y as io,z as fn,D as lo,O as co}from"./nivo-legends.es-b1710e85.js";import{d as W,M as uo}from"./dayjs.min-df6a25b0.js";import{C as fo,L as po}from"./LabeledSegmentedControl-921a81ce.js";function Te(e){return typeof e!="string"?"":e.charAt(0).toUpperCase()+e.slice(1)}function ho(e,t="monday"){const r=new Date(e),n=r.getDay(),a=t==="sunday",o=7-(a?n+1:n);return(a&&n!==6||n!==0)&&r.setDate(r.getDate()+o),r}function pn(e,t="monday"){const r=new Date(e),n=r.getDay()||7,a=t==="sunday",o=a?n:n-1;return(a&&n!==0||n!==1)&&r.setHours(-24*o),r}function mo(e,t="monday"){const r=e.getMonth(),n=new Date(e.getFullYear(),r,1),a=new Date(e.getFullYear(),e.getMonth()+1,0),o=ho(a,t),i=pn(n,t),s=[];for(;i<=o;){const l=[];for(let c=0;c<7;c+=1)l.push(new Date(i)),i.setDate(i.getDate()+1);s.push(l)}return s}function go(e,t="MMM"){const r=[],n=new Date(2021,0,1);for(let a=0;a<12;a+=1)r.push(W(n).locale(e).format(t)),n.setMonth(n.getMonth()+1);return r}function hn(e,t="monday",r="dd"){const n=[],a=pn(new Date,t);for(let o=0;o<7;o+=1)n.push(W(a).locale(e).format(r)),a.setDate(a.getDate()+1);return n}function mn(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}function Le(e,t){return mn(e,t)&&e.getDate()===t.getDate()}function yo(e){const t=e-e%10-1,r=[];for(let n=0;n<12;n+=1){const a=t+n;r.push(a)}return r}var vo=Object.defineProperty,bo=Object.defineProperties,_o=Object.getOwnPropertyDescriptors,ut=Object.getOwnPropertySymbols,gn=Object.prototype.hasOwnProperty,yn=Object.prototype.propertyIsEnumerable,mr=(e,t,r)=>t in e?vo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,gr=(e,t)=>{for(var r in t||(t={}))gn.call(t,r)&&mr(e,r,t[r]);if(ut)for(var r of ut(t))yn.call(t,r)&&mr(e,r,t[r]);return e},xo=(e,t)=>bo(e,_o(t)),wo=(e,t)=>{var r={};for(var n in e)gn.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&ut)for(var n of ut(e))t.indexOf(n)<0&&yn.call(e,n)&&(r[n]=e[n]);return r};function Vt(e){var t=e,{direction:r,style:n}=t,a=wo(t,["direction","style"]);const o=Mt();return L.createElement("svg",gr({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:xo(gr({},n),{transform:r==="right"&&o.dir==="ltr"||r==="left"&&o.dir==="rtl"?"rotate(180deg)":"none"})},a),L.createElement("path",{d:"M8.84182 3.13514C9.04327 3.32401 9.05348 3.64042 8.86462 3.84188L5.43521 7.49991L8.86462 11.1579C9.05348 11.3594 9.04327 11.6758 8.84182 11.8647C8.64036 12.0535 8.32394 12.0433 8.13508 11.8419L4.38508 7.84188C4.20477 7.64955 4.20477 7.35027 4.38508 7.15794L8.13508 3.15794C8.32394 2.95648 8.64036 2.94628 8.84182 3.13514Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}Vt.displayName="@mantine/dates/ArrowIcon";var Oo=Object.defineProperty,Po=Object.defineProperties,Do=Object.getOwnPropertyDescriptors,yr=Object.getOwnPropertySymbols,So=Object.prototype.hasOwnProperty,Co=Object.prototype.propertyIsEnumerable,vr=(e,t,r)=>t in e?Oo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Mo=(e,t)=>{for(var r in t||(t={}))So.call(t,r)&&vr(e,r,t[r]);if(yr)for(var r of yr(t))Co.call(t,r)&&vr(e,r,t[r]);return e},$o=(e,t)=>Po(e,Do(t));const It={xs:32,sm:40,md:44,lg:50,xl:54};var ko=De((e,{size:t})=>({calendarHeader:{display:"flex",justifyContent:"space-between",align:"center",marginBottom:e.fn.size({size:t,sizes:e.spacing})},calendarHeaderControl:{width:e.fn.size({size:t,sizes:It}),height:e.fn.size({size:t,sizes:It}),"&:disabled":{opacity:0,cursor:"default"}},calendarHeaderLevel:$o(Mo({display:"flex",alignItems:"center",justifyContent:"center",height:e.fn.size({size:t,sizes:It}),fontSize:e.fn.size({size:t,sizes:e.fontSizes}),padding:`0 ${e.fn.size({size:t,sizes:e.spacing})}px`,borderRadius:e.radius.sm,fontWeight:500,flex:1,textAlign:"center",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black},e.fn.hover({backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0]})),{"&:disabled":e.fn.hover({backgroundColor:"transparent",cursor:"default"})}),calendarHeaderLevelIcon:{marginLeft:4}})),Ro=Object.defineProperty,dt=Object.getOwnPropertySymbols,vn=Object.prototype.hasOwnProperty,bn=Object.prototype.propertyIsEnumerable,br=(e,t,r)=>t in e?Ro(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Lo=(e,t)=>{for(var r in t||(t={}))vn.call(t,r)&&br(e,r,t[r]);if(dt)for(var r of dt(t))bn.call(t,r)&&br(e,r,t[r]);return e},Io=(e,t)=>{var r={};for(var n in e)vn.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&dt)for(var n of dt(e))t.indexOf(n)<0&&bn.call(e,n)&&(r[n]=e[n]);return r};const Eo={xs:12,sm:14,md:18,lg:22,xl:28};function kt(e){var t=e,{hasNext:r,hasPrevious:n,onNext:a,onPrevious:o,onNextLevel:i,className:s,label:l,nextLevelDisabled:c,size:u,classNames:f,styles:p,__staticSelector:m="CalendarHeader",nextLabel:g,previousLabel:h,preventLevelFocus:y=!1,preventFocus:_,unstyled:x,__stopPropagation:b}=t,D=Io(t,["hasNext","hasPrevious","onNext","onPrevious","onNextLevel","className","label","nextLevelDisabled","size","classNames","styles","__staticSelector","nextLabel","previousLabel","preventLevelFocus","preventFocus","unstyled","__stopPropagation"]);const{classes:S,cx:$,theme:C}=ko({size:u},{classNames:f,styles:p,unstyled:x,name:m}),w=C.fn.size({size:u,sizes:Eo});return L.createElement("div",Lo({className:$(S.calendarHeader,s)},D),L.createElement(ur,{className:S.calendarHeaderControl,disabled:!n,onClick:o,"aria-label":h,onMouseDown:M=>_&&M.preventDefault(),unstyled:x,"data-mantine-stop-propagation":b||void 0},L.createElement(Vt,{direction:"left",width:w,height:w})),L.createElement(Jt,{unstyled:x,className:S.calendarHeaderLevel,disabled:c,onClick:i,tabIndex:y?-1:0,onMouseDown:M=>_&&M.preventDefault(),"data-mantine-stop-propagation":b||void 0},l,!c&&L.createElement(fo,{error:!1,size:u,className:S.calendarHeaderLevelIcon})),L.createElement(ur,{className:S.calendarHeaderControl,disabled:!r,onClick:a,"aria-label":g,unstyled:x,onMouseDown:M=>_&&M.preventDefault(),"data-mantine-stop-propagation":b||void 0},L.createElement(Vt,{direction:"right",width:w,height:w})))}kt.displayName="@mantine/dates/CalendarHeader";function at(e,t){return W(new Date(e,1,1)).format(t)}var To=Object.defineProperty,No=Object.defineProperties,Fo=Object.getOwnPropertyDescriptors,_r=Object.getOwnPropertySymbols,jo=Object.prototype.hasOwnProperty,Yo=Object.prototype.propertyIsEnumerable,xr=(e,t,r)=>t in e?To(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Et=(e,t)=>{for(var r in t||(t={}))jo.call(t,r)&&xr(e,r,t[r]);if(_r)for(var r of _r(t))Yo.call(t,r)&&xr(e,r,t[r]);return e},zo=(e,t)=>No(e,Fo(t));const Ao={xs:32,sm:40,md:46,lg:52,xl:56};var Bo=De((e,{size:t})=>{const r=e.fn.variant({color:e.primaryColor,variant:"filled"});return{yearPicker:{width:"100%"},yearPickerControls:{display:"flex",flexWrap:"wrap",justifyContent:"center"},yearPickerControl:zo(Et({flex:"0 0 25%",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,height:e.fn.size({size:t,sizes:Ao}),textAlign:"center",borderRadius:e.radius.sm,fontSize:e.fn.size({size:t,sizes:e.fontSizes})},e.fn.hover({backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0]})),{"&:disabled":Et({color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4],cursor:"not-allowed"},e.fn.hover({backgroundColor:"transparent"}))}),yearPickerControlActive:Et({backgroundColor:r.background,color:r.color},e.fn.hover({backgroundColor:r.hover}))}}),qo=Object.defineProperty,ft=Object.getOwnPropertySymbols,_n=Object.prototype.hasOwnProperty,xn=Object.prototype.propertyIsEnumerable,wr=(e,t,r)=>t in e?qo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Vo=(e,t)=>{for(var r in t||(t={}))_n.call(t,r)&&wr(e,r,t[r]);if(ft)for(var r of ft(t))xn.call(t,r)&&wr(e,r,t[r]);return e},Wo=(e,t)=>{var r={};for(var n in e)_n.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&ft)for(var n of ft(e))t.indexOf(n)<0&&xn.call(e,n)&&(r[n]=e[n]);return r};function wn(e){var t=e,{className:r,styles:n,classNames:a,value:o,onChange:i,size:s,minYear:l,maxYear:c,__staticSelector:u="YearPicker",nextDecadeLabel:f,previousDecadeLabel:p,preventFocus:m,unstyled:g,yearLabelFormat:h="YYYY",__stopPropagation:y}=t,_=Wo(t,["className","styles","classNames","value","onChange","size","minYear","maxYear","__staticSelector","nextDecadeLabel","previousDecadeLabel","preventFocus","unstyled","yearLabelFormat","__stopPropagation"]);const{classes:x,cx:b}=Bo({size:s},{classNames:a,styles:n,unstyled:g,name:u}),[D,S]=O.exports.useState(o),$=yo(D),C=$.map(w=>L.createElement(Jt,{key:w,unstyled:g,onClick:()=>i(w),disabled:w<l||w>c,onMouseDown:M=>m&&M.preventDefault(),"data-mantine-stop-propagation":y||void 0,className:b(x.yearPickerControl,{[x.yearPickerControlActive]:w===o})},at(w,h)));return L.createElement("div",Vo({className:b(x.yearPicker,r)},_),L.createElement(kt,{unstyled:g,label:`${at($[0],h)} â€“ ${at($[$.length-1],h)}`,hasPrevious:typeof l=="number"?l<$[0]:!0,hasNext:typeof c=="number"?c>$[$.length-1]:!0,onNext:()=>S(w=>w+10),onPrevious:()=>S(w=>w-10),nextLevelDisabled:!0,size:s,nextLabel:f,previousLabel:p,styles:n,classNames:a,__staticSelector:u,preventFocus:m,__stopPropagation:y}),L.createElement("div",{className:x.yearPickerControls},C))}wn.displayName="@mantine/dates/YearPicker";function Wt({date:e,minDate:t,maxDate:r}){const n=t instanceof Date,a=r instanceof Date;if(!a&&!n)return!0;const o=W(e).endOf("month"),i=W(e).startOf("month"),s=a?i.isBefore(r):!0,l=n?o.isAfter(t):!0;return s&&l}var Ho=Object.defineProperty,Go=Object.defineProperties,Ko=Object.getOwnPropertyDescriptors,Or=Object.getOwnPropertySymbols,Xo=Object.prototype.hasOwnProperty,Uo=Object.prototype.propertyIsEnumerable,Pr=(e,t,r)=>t in e?Ho(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Tt=(e,t)=>{for(var r in t||(t={}))Xo.call(t,r)&&Pr(e,r,t[r]);if(Or)for(var r of Or(t))Uo.call(t,r)&&Pr(e,r,t[r]);return e},Zo=(e,t)=>Go(e,Ko(t));const Qo={xs:32,sm:40,md:46,lg:52,xl:56};var Jo=De((e,{size:t})=>{const r=e.fn.variant({color:e.primaryColor,variant:"filled"});return{monthPicker:{width:"100%"},monthPickerControls:{display:"flex",flexWrap:"wrap",justifyContent:"center"},monthPickerControl:Zo(Tt({flex:"0 0 33.3333%",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,height:e.fn.size({size:t,sizes:Qo}),textAlign:"center",borderRadius:e.radius.sm,fontSize:e.fn.size({size:t,sizes:e.fontSizes})},e.fn.hover({backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0]})),{"&:disabled":Tt({color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4],cursor:"not-allowed"},e.fn.hover({backgroundColor:"transparent"}))}),monthPickerControlActive:Tt({backgroundColor:r.background,color:r.color},e.fn.hover({backgroundColor:r.hover}))}}),es=Object.defineProperty,pt=Object.getOwnPropertySymbols,On=Object.prototype.hasOwnProperty,Pn=Object.prototype.propertyIsEnumerable,Dr=(e,t,r)=>t in e?es(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ts=(e,t)=>{for(var r in t||(t={}))On.call(t,r)&&Dr(e,r,t[r]);if(pt)for(var r of pt(t))Pn.call(t,r)&&Dr(e,r,t[r]);return e},rs=(e,t)=>{var r={};for(var n in e)On.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&pt)for(var n of pt(e))t.indexOf(n)<0&&Pn.call(e,n)&&(r[n]=e[n]);return r};function Dn(e){var t=e,{className:r,styles:n,classNames:a,value:o,onChange:i,locale:s,year:l,onYearChange:c,onNextLevel:u,size:f,minDate:p,maxDate:m,__staticSelector:g="MonthPicker",nextYearLabel:h,previousYearLabel:y,preventFocus:_,unstyled:x,yearLabelFormat:b="YYYY",__stopPropagation:D}=t,S=rs(t,["className","styles","classNames","value","onChange","locale","year","onYearChange","onNextLevel","size","minDate","maxDate","__staticSelector","nextYearLabel","previousYearLabel","preventFocus","unstyled","yearLabelFormat","__stopPropagation"]);const{classes:$,cx:C}=Jo({size:f},{classNames:a,styles:n,unstyled:x,name:g}),w=go(s),M=p instanceof Date?p.getFullYear():void 0,v=m instanceof Date?m.getFullYear():void 0,P=w.map((k,T)=>L.createElement(Jt,{key:k,unstyled:x,onClick:()=>i(T),className:C($.monthPickerControl,{[$.monthPickerControlActive]:T===o.month&&l===o.year}),disabled:!Wt({date:new Date(l,T),minDate:p,maxDate:m}),onMouseDown:E=>_&&E.preventDefault(),"data-mantine-stop-propagation":D||void 0},k));return L.createElement("div",ts({className:C($.monthPicker,r)},S),L.createElement(kt,{label:at(l,b),hasNext:typeof v=="number"?l<v:!0,hasPrevious:typeof M=="number"?l>M:!0,onNext:()=>c(l+1),onPrevious:()=>c(l-1),onNextLevel:u,size:f,classNames:a,styles:n,__staticSelector:g,nextLabel:h,previousLabel:y,preventFocus:_,unstyled:x,__stopPropagation:D}),L.createElement("div",{className:$.monthPickerControls},P))}Dn.displayName="@mantine/dates/MonthPicker";function ns({month:e,locale:t,format:r}){return Te(W(e).locale(t).format(r))}function as({focusable:e,hasValue:t,selected:r,firstInMonth:n}){return e?t?r?0:-1:n?0:-1:-1}function os({hasValue:e,selected:t,firstInMonth:r}){return e?t?!0:void 0:r?!0:void 0}var ss=Object.defineProperty,is=Object.defineProperties,ls=Object.getOwnPropertyDescriptors,Sr=Object.getOwnPropertySymbols,cs=Object.prototype.hasOwnProperty,us=Object.prototype.propertyIsEnumerable,Cr=(e,t,r)=>t in e?ss(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Nt=(e,t)=>{for(var r in t||(t={}))cs.call(t,r)&&Cr(e,r,t[r]);if(Sr)for(var r of Sr(t))us.call(t,r)&&Cr(e,r,t[r]);return e},Mr=(e,t)=>is(e,ls(t));const ot={xs:34,sm:38,md:46,lg:58,xl:66};var ds=De((e,{size:t,fullWidth:r,hideOutsideDates:n})=>({day:Mr(Nt(Mr(Nt(Nt({},e.fn.fontStyles()),e.fn.focusStyles()),{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",width:r?"100%":e.fn.size({size:t,sizes:ot}),height:e.fn.size({size:t,sizes:ot}),lineHeight:`${e.fn.size({size:t,sizes:ot})}px`,fontSize:e.fn.size({size:t,sizes:e.fontSizes}),padding:0,borderRadius:e.radius.sm,border:"none",cursor:"pointer",userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],"&:disabled":{pointerEvents:"none",color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]}}),e.fn.hover({backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]})),{"&[data-weekend]":{color:e.colorScheme==="dark"?e.colors.red[5]:e.colors.red[7]},"&[data-outside]":{display:n?"none":void 0,color:`${e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]}`},"&[data-in-range]":{backgroundColor:e.fn.variant({variant:"light"}).background,borderRadius:0},"&[data-selected]":{backgroundColor:e.fn.variant({variant:"filled"}).background,color:e.white},"&[data-first-in-range]":{borderTopLeftRadius:e.radius.sm,borderBottomLeftRadius:e.radius.sm},"&[data-last-in-range]":{borderTopRightRadius:e.radius.sm,borderBottomRightRadius:e.radius.sm}})})),fs=Object.defineProperty,ps=Object.defineProperties,hs=Object.getOwnPropertyDescriptors,ht=Object.getOwnPropertySymbols,Sn=Object.prototype.hasOwnProperty,Cn=Object.prototype.propertyIsEnumerable,$r=(e,t,r)=>t in e?fs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ms=(e,t)=>{for(var r in t||(t={}))Sn.call(t,r)&&$r(e,r,t[r]);if(ht)for(var r of ht(t))Cn.call(t,r)&&$r(e,r,t[r]);return e},gs=(e,t)=>ps(e,hs(t)),ys=(e,t)=>{var r={};for(var n in e)Sn.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&ht)for(var n of ht(e))t.indexOf(n)<0&&Cn.call(e,n)&&(r[n]=e[n]);return r};const Mn=O.exports.forwardRef((e,t)=>{var r=e,{className:n,value:a,selected:o,weekend:i,outside:s,onMouseEnter:l,classNames:c,styles:u,hasValue:f,firstInRange:p,lastInRange:m,__staticSelector:g="Month",inRange:h,size:y,fullWidth:_,firstInMonth:x,focusable:b,hideOutsideDates:D,renderDay:S,unstyled:$,disabled:C,stopPropagation:w}=r,M=ys(r,["className","value","selected","weekend","outside","onMouseEnter","classNames","styles","hasValue","firstInRange","lastInRange","__staticSelector","inRange","size","fullWidth","firstInMonth","focusable","hideOutsideDates","renderDay","unstyled","disabled","stopPropagation"]);const{classes:v,cx:P}=ds({size:y,fullWidth:_,hideOutsideDates:D},{classNames:c,styles:u,unstyled:$,name:g});return L.createElement("button",gs(ms({},M),{type:"button",ref:t,disabled:C,onMouseEnter:k=>l(a,k),tabIndex:as({focusable:b,hasValue:f,selected:o,firstInMonth:x}),"data-autofocus":os({hasValue:f,selected:o,firstInMonth:x}),"data-mantine-stop-propagation":w||void 0,"data-outside":s&&!C||void 0,"data-weekend":i&&!C||void 0,"data-selected":o&&!C||void 0,"data-in-range":h&&!C||void 0,"data-first-in-range":p&&!C||void 0,"data-last-in-range":m&&!C||void 0,className:P(v.day,n)}),typeof S=="function"?S(a):a.getDate())});Mn.displayName="@mantine/core/Day";function vs(e,t=[0,6]){return t.includes(e.getDay())}function bs(e,t){return!mn(e,t)}function _s({minDate:e,maxDate:t,excludeDate:r,disableOutsideEvents:n,date:a,outside:o}){const i=t instanceof Date&&W(t).isBefore(a,"day"),s=e instanceof Date&&W(e).isAfter(a,"day"),l=typeof r=="function"&&r(a);return i||s||l||!!n&&!!o}function xs(e,t){const r=Array.isArray(t)&&t.every(s=>s instanceof Date),n=r&&[W(t[0]).subtract(1,"day"),W(t[1]).add(1,"day")],a=r&&Le(e,t[0]),o=r&&Le(e,t[1]),i=r&&W(e).isAfter(n[0],"day")&&W(e).isBefore(n[1],"day");return{firstInRange:a,lastInRange:o,inRange:i,selectedInRange:a||o}}function kr({date:e,month:t,hasValue:r,minDate:n,maxDate:a,value:o,excludeDate:i,disableOutsideEvents:s,range:l,weekendDays:c}){const u=bs(e,t),f=r&&(Array.isArray(o)?o.some(y=>Le(y,e)):Le(e,o)),{inRange:p,lastInRange:m,firstInRange:g,selectedInRange:h}=xs(e,l);return{disabled:_s({minDate:n,maxDate:a,excludeDate:i,disableOutsideEvents:s,date:e,outside:u}),weekend:vs(e,c),selectedInRange:h,selected:f,inRange:p,firstInRange:g,lastInRange:m,outside:u}}var ws=Object.defineProperty,Os=Object.defineProperties,Ps=Object.getOwnPropertyDescriptors,Rr=Object.getOwnPropertySymbols,Ds=Object.prototype.hasOwnProperty,Ss=Object.prototype.propertyIsEnumerable,Lr=(e,t,r)=>t in e?ws(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Cs=(e,t)=>{for(var r in t||(t={}))Ds.call(t,r)&&Lr(e,r,t[r]);if(Rr)for(var r of Rr(t))Ss.call(t,r)&&Lr(e,r,t[r]);return e},Ms=(e,t)=>Os(e,Ps(t)),$s=De((e,{fullWidth:t})=>({weekday:{color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[5]},month:Ms(Cs({},e.fn.fontStyles()),{borderCollapse:"collapse",width:t?"100%":"auto",tableLayout:"fixed"}),cell:{boxSizing:"border-box",padding:0,borderTop:"1px solid transparent"},weekdayCell:{boxSizing:"border-box",padding:0,fontWeight:"normal",paddingBottom:`calc(${e.spacing.xs}px / 2)`,textAlign:"center",cursor:"default",userSelect:"none"}})),ks=Object.defineProperty,mt=Object.getOwnPropertySymbols,$n=Object.prototype.hasOwnProperty,kn=Object.prototype.propertyIsEnumerable,Ir=(e,t,r)=>t in e?ks(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Rs=(e,t)=>{for(var r in t||(t={}))$n.call(t,r)&&Ir(e,r,t[r]);if(mt)for(var r of mt(t))kn.call(t,r)&&Ir(e,r,t[r]);return e},Ls=(e,t)=>{var r={};for(var n in e)$n.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&mt)for(var n of mt(e))t.indexOf(n)<0&&kn.call(e,n)&&(r[n]=e[n]);return r};const tt=()=>!1,Is={disableOutsideEvents:!1,hideWeekdays:!1,__staticSelector:"Month",size:"sm",fullWidth:!1,preventFocus:!1,focusable:!0,firstDayOfWeek:"monday",hideOutsideDates:!1,weekendDays:[0,6],__stopPropagation:!0},Rn=O.exports.forwardRef((e,t)=>{const r=Ae("Month",Is,e),{className:n,month:a,value:o,onChange:i,disableOutsideEvents:s,locale:l,dayClassName:c,dayStyle:u,classNames:f,styles:p,minDate:m,maxDate:g,excludeDate:h,onDayMouseEnter:y,range:_,hideWeekdays:x,__staticSelector:b,size:D,fullWidth:S,preventFocus:$,focusable:C,firstDayOfWeek:w,onDayKeyDown:M,daysRefs:v,hideOutsideDates:P,isDateInRange:k=tt,isDateFirstInRange:T=tt,isDateLastInRange:E=tt,renderDay:q,weekdayLabelFormat:X,unstyled:I,weekendDays:F,__stopPropagation:U}=r,B=Ls(r,["className","month","value","onChange","disableOutsideEvents","locale","dayClassName","dayStyle","classNames","styles","minDate","maxDate","excludeDate","onDayMouseEnter","range","hideWeekdays","__staticSelector","size","fullWidth","preventFocus","focusable","firstDayOfWeek","onDayKeyDown","daysRefs","hideOutsideDates","isDateInRange","isDateFirstInRange","isDateLastInRange","renderDay","weekdayLabelFormat","unstyled","weekendDays","__stopPropagation"]),{classes:H,cx:ue,theme:oe}=$s({fullWidth:S},{classNames:f,styles:p,unstyled:I,name:b}),le=l||oe.datesLocale,V=mo(a,w),re=hn(le,w,X).map(K=>L.createElement("th",{className:H.weekdayCell,key:K},L.createElement(it,{size:D,className:H.weekday},K.length>=2?Te(K):K))),z=Array.isArray(o)?o.every(K=>K instanceof Date):o instanceof Date,se=o instanceof Date&&W(o).isAfter(W(a).startOf("month"))&&W(o).isBefore(W(a).endOf("month")),ne=O.exports.useMemo(()=>V.flatMap(K=>K).find(K=>{const A=kr({date:K,month:a,hasValue:z,minDate:m,maxDate:g,value:o,excludeDate:h,disableOutsideEvents:s,range:_,weekendDays:F});return!A.disabled&&!A.outside})||W(a).startOf("month").toDate(),[]),te=V.map((K,A)=>{const G=K.map((Y,Q)=>{const Z=kr({date:Y,month:a,hasValue:z,minDate:m,maxDate:g,value:o,excludeDate:h,disableOutsideEvents:s,range:_,weekendDays:F}),he={rowIndex:A,cellIndex:Q,date:Y};return L.createElement("td",{className:H.cell,key:Q},L.createElement(Mn,{unstyled:I,ref:J=>{v&&(Array.isArray(v[A])||(v[A]=[]),v[A][Q]=J)},onClick:()=>typeof i=="function"&&i(Y),onMouseDown:J=>$&&J.preventDefault(),value:Y,outside:Z.outside,weekend:Z.weekend,inRange:Z.inRange||k(Y,Z),firstInRange:Z.firstInRange||T(Y,Z),lastInRange:Z.lastInRange||E(Y,Z),firstInMonth:Le(Y,ne),selected:Z.selected||Z.selectedInRange,hasValue:se,onKeyDown:J=>typeof M=="function"&&M(he,J),className:typeof c=="function"?c(Y,Z):null,style:typeof u=="function"?u(Y,Z):null,disabled:Z.disabled,onMouseEnter:typeof y=="function"?y:tt,size:D,fullWidth:S,focusable:C,hideOutsideDates:P,__staticSelector:b,styles:p,classNames:f,renderDay:q,stopPropagation:U}))});return L.createElement("tr",{key:A},G)});return L.createElement($t,Rs({component:"table",className:ue(H.month,n),ref:t},B),!x&&L.createElement("thead",null,L.createElement("tr",null,re)),L.createElement("tbody",null,te))});Rn.displayName="@mantine/dates/Month";var Es=Object.defineProperty,gt=Object.getOwnPropertySymbols,Ln=Object.prototype.hasOwnProperty,In=Object.prototype.propertyIsEnumerable,Er=(e,t,r)=>t in e?Es(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ts=(e,t)=>{for(var r in t||(t={}))Ln.call(t,r)&&Er(e,r,t[r]);if(gt)for(var r of gt(t))In.call(t,r)&&Er(e,r,t[r]);return e},Ns=(e,t)=>{var r={};for(var n in e)Ln.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&gt)for(var n of gt(e))t.indexOf(n)<0&&In.call(e,n)&&(r[n]=e[n]);return r};function En(e){var t=e,{amountOfMonths:r,paginateBy:n,month:a,locale:o,minDate:i,maxDate:s,allowLevelChange:l,size:c,daysRefs:u,onMonthChange:f,onNextLevel:p,onDayKeyDown:m,classNames:g,styles:h,__staticSelector:y="MonthsList",nextMonthLabel:_,previousMonthLabel:x,labelFormat:b,weekdayLabelFormat:D,preventFocus:S,renderDay:$,unstyled:C,__stopPropagation:w}=t,M=Ns(t,["amountOfMonths","paginateBy","month","locale","minDate","maxDate","allowLevelChange","size","daysRefs","onMonthChange","onNextLevel","onDayKeyDown","classNames","styles","__staticSelector","nextMonthLabel","previousMonthLabel","labelFormat","weekdayLabelFormat","preventFocus","renderDay","unstyled","__stopPropagation"]);const v=W(a).add(r,"months").toDate(),P=W(a).subtract(1,"months").toDate(),k=Array(r).fill(0).map((T,E)=>{const q=W(a).add(E,"months").toDate();return L.createElement("div",{key:E},L.createElement(kt,{hasNext:E+1===r&&Wt({date:v,minDate:i,maxDate:s}),hasPrevious:E===0&&Wt({date:P,minDate:i,maxDate:s}),label:ns({month:q,locale:o,format:b}),onNext:()=>f(W(a).add(n,"months").toDate()),onPrevious:()=>f(W(a).subtract(n,"months").toDate()),onNextLevel:p,nextLevelDisabled:!l,size:c,classNames:g,styles:h,__staticSelector:y,nextLabel:_,previousLabel:x,preventLevelFocus:E>0,preventFocus:S,unstyled:C,__stopPropagation:w}),L.createElement(Rn,Ts({month:q,daysRefs:u.current[E],onDayKeyDown:(...X)=>m(E,...X),size:c,minDate:i,maxDate:s,classNames:g,styles:h,__staticSelector:y,locale:o,focusable:E===0,preventFocus:S,renderDay:$,weekdayLabelFormat:D,unstyled:C,__stopPropagation:w},M)))});return L.createElement(L.Fragment,null,k)}En.displayName="@mantine/dates/MonthsList";var Fs=De((e,{size:t,amountOfMonths:r,fullWidth:n})=>{const a=e.fn.size({size:t,sizes:ot})*7,o=r>1?a*r+(r-1)*e.spacing.md:a;return{calendarBase:{boxSizing:"border-box",display:"flex",gap:e.spacing.md,maxWidth:n?"100%":o}}}),js=Object.defineProperty,yt=Object.getOwnPropertySymbols,Tn=Object.prototype.hasOwnProperty,Nn=Object.prototype.propertyIsEnumerable,Tr=(e,t,r)=>t in e?js(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ys=(e,t)=>{for(var r in t||(t={}))Tn.call(t,r)&&Tr(e,r,t[r]);if(yt)for(var r of yt(t))Nn.call(t,r)&&Tr(e,r,t[r]);return e},zs=(e,t)=>{var r={};for(var n in e)Tn.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&yt)for(var n of yt(e))t.indexOf(n)<0&&Nn.call(e,n)&&(r[n]=e[n]);return r};const sr=O.exports.forwardRef((e,t)=>{var r=e,{className:n,classNames:a,styles:o,month:i,initialMonth:s,onMonthChange:l,locale:c,amountOfMonths:u=1,paginateBy:f=u,size:p="sm",allowLevelChange:m=!0,initialLevel:g="date",minDate:h,maxDate:y,__staticSelector:_="CalendarBase",dayClassName:x,dayStyle:b,disableOutsideEvents:D,excludeDate:S,hideWeekdays:$,fullWidth:C,preventFocus:w,firstDayOfWeek:M="monday",value:v,onChange:P,onDayMouseEnter:k,range:T,nextDecadeLabel:E,nextMonthLabel:q,nextYearLabel:X,previousDecadeLabel:I,previousMonthLabel:F,previousYearLabel:U,labelFormat:B="MMMM YYYY",weekdayLabelFormat:H,hideOutsideDates:ue,isDateInRange:oe,isDateFirstInRange:le,isDateLastInRange:V,renderDay:re,unstyled:z,weekendDays:se,__stopPropagation:ne,yearLabelFormat:te="YYYY"}=r,K=zs(r,["className","classNames","styles","month","initialMonth","onMonthChange","locale","amountOfMonths","paginateBy","size","allowLevelChange","initialLevel","minDate","maxDate","__staticSelector","dayClassName","dayStyle","disableOutsideEvents","excludeDate","hideWeekdays","fullWidth","preventFocus","firstDayOfWeek","value","onChange","onDayMouseEnter","range","nextDecadeLabel","nextMonthLabel","nextYearLabel","previousDecadeLabel","previousMonthLabel","previousYearLabel","labelFormat","weekdayLabelFormat","hideOutsideDates","isDateInRange","isDateFirstInRange","isDateLastInRange","renderDay","unstyled","weekendDays","__stopPropagation","yearLabelFormat"]);const[A,G]=O.exports.useState(g),{classes:Y,cx:Q,theme:Z}=Fs({size:p,fullWidth:C,amountOfMonths:A==="date"?u:1},{name:_,styles:o,classNames:a,unstyled:z}),he=c||Z.datesLocale,J=O.exports.useRef(Array(u).fill(0).map(()=>[])),[me,_e]=er({value:i,defaultValue:s,finalValue:new Date,onChange:l}),[ge,ce]=O.exports.useState(me.getFullYear()),be=h instanceof Date?h.getFullYear():100,de=y instanceof Date?y.getFullYear():1e4,ee=6,ve=(ie,R,N,fe=1)=>{var ae;const ye=["down","up"].includes(ie),Se=ye?N.rowIndex+(ie==="down"?fe:-fe):N.rowIndex,Fe=ye?N.cellIndex:N.cellIndex+(ie==="right"?fe:-fe),Pe=(ae=J.current[R][Se])==null?void 0:ae[Fe];!Pe||(Pe.disabled?ve(ie,R,N,fe+1):Pe.focus())},we=(ie,R,N)=>{var fe;switch(N.key){case"ArrowDown":{N.preventDefault(),R.rowIndex+1<J.current[ie].length&&ve("down",ie,R);break}case"ArrowUp":{N.preventDefault(),R.rowIndex>0&&ve("up",ie,R);break}case"ArrowRight":{N.preventDefault(),R.cellIndex!==ee?ve("right",ie,R):ie+1<u&&J.current[ie+1][R.rowIndex]&&((fe=J.current[ie+1][R.rowIndex][0])==null||fe.focus());break}case"ArrowLeft":N.preventDefault(),R.cellIndex!==0?ve("left",ie,R):ie>0&&J.current[ie-1][R.rowIndex]&&J.current[ie-1][R.rowIndex][ee].focus()}};return L.createElement($t,Ys({className:Q(Y.calendarBase,n),ref:t},K),A==="year"&&L.createElement(wn,{size:p,value:ge,minYear:be,maxYear:de,onChange:ie=>{ce(ie),G("month")},classNames:a,styles:o,__staticSelector:_,__stopPropagation:ne,nextDecadeLabel:E,previousDecadeLabel:I,preventFocus:w,unstyled:z,yearLabelFormat:te}),A==="month"&&L.createElement(Dn,{size:p,value:{month:me.getMonth(),year:me.getFullYear()},year:ge,onYearChange:ce,onNextLevel:()=>G("year"),locale:he,minDate:h,maxDate:y,onChange:ie=>{_e(new Date(ge,ie,1)),G("date")},classNames:a,styles:o,__staticSelector:_,__stopPropagation:ne,nextYearLabel:X,previousYearLabel:U,preventFocus:w,unstyled:z,yearLabelFormat:te}),A==="date"&&L.createElement(En,{amountOfMonths:u,paginateBy:f,month:me,locale:he,minDate:h,maxDate:y,allowLevelChange:m,size:p,daysRefs:J,onMonthChange:_e,onNextLevel:()=>G("month"),onDayKeyDown:we,classNames:a,styles:o,__staticSelector:_,dayClassName:x,dayStyle:b,disableOutsideEvents:D,excludeDate:S,hideWeekdays:$,fullWidth:C,preventFocus:w,firstDayOfWeek:M,value:v,range:T,onChange:P,nextMonthLabel:q,previousMonthLabel:F,labelFormat:B,weekdayLabelFormat:H,onDayMouseEnter:k,renderDay:re,hideOutsideDates:ue,isDateInRange:oe,isDateFirstInRange:le,isDateLastInRange:V,unstyled:z,weekendDays:se,__stopPropagation:ne}))});sr.displayName="@mantine/dates/CalendarBase";var As=Object.defineProperty,vt=Object.getOwnPropertySymbols,Fn=Object.prototype.hasOwnProperty,jn=Object.prototype.propertyIsEnumerable,Nr=(e,t,r)=>t in e?As(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Bs=(e,t)=>{for(var r in t||(t={}))Fn.call(t,r)&&Nr(e,r,t[r]);if(vt)for(var r of vt(t))jn.call(t,r)&&Nr(e,r,t[r]);return e},qs=(e,t)=>{var r={};for(var n in e)Fn.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&vt)for(var n of vt(e))t.indexOf(n)<0&&jn.call(e,n)&&(r[n]=e[n]);return r};const Vs={__staticSelector:"Calendar"};function Yn(e){const t=Ae("Calendar",Vs,e),{__staticSelector:r="Calendar",multiple:n,value:a,onChange:o}=t,i=qs(t,["__staticSelector","multiple","value","onChange"]),s=l=>{if(!n)return o(l);const c=a.some(u=>Le(u,l));return o(c?a.filter(u=>!Le(u,l)):[...a,l])};return L.createElement(sr,Bs({__staticSelector:r,onChange:s,value:a},i))}Yn.displayName="@mantine/dates/Calendar";var Ws=Object.defineProperty,Hs=Object.defineProperties,Gs=Object.getOwnPropertyDescriptors,Fr=Object.getOwnPropertySymbols,Ks=Object.prototype.hasOwnProperty,Xs=Object.prototype.propertyIsEnumerable,jr=(e,t,r)=>t in e?Ws(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Us=(e,t)=>{for(var r in t||(t={}))Ks.call(t,r)&&jr(e,r,t[r]);if(Fr)for(var r of Fr(t))Xs.call(t,r)&&jr(e,r,t[r]);return e},Zs=(e,t)=>Hs(e,Gs(t)),Qs=De(e=>({wrapper:Zs(Us({},e.fn.fontStyles()),{position:"relative",cursor:"pointer"}),input:{cursor:"pointer",whiteSpace:"nowrap","&:not([data-free-input])::selection":{backgroundColor:"transparent"},"&[data-free-input]":{cursor:"text"}}})),Js=Object.defineProperty,ei=Object.defineProperties,ti=Object.getOwnPropertyDescriptors,bt=Object.getOwnPropertySymbols,zn=Object.prototype.hasOwnProperty,An=Object.prototype.propertyIsEnumerable,Yr=(e,t,r)=>t in e?Js(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ke=(e,t)=>{for(var r in t||(t={}))zn.call(t,r)&&Yr(e,r,t[r]);if(bt)for(var r of bt(t))An.call(t,r)&&Yr(e,r,t[r]);return e},zr=(e,t)=>ei(e,ti(t)),ri=(e,t)=>{var r={};for(var n in e)zn.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&bt)for(var n of bt(e))t.indexOf(n)<0&&An.call(e,n)&&(r[n]=e[n]);return r};const ni={xs:24,sm:30,md:34,lg:40,xl:44},ai={in:{opacity:1,transform:"translateY(0) scale(1)"},out:{opacity:0,transform:"translateY(-25px) scale(0.93)"},common:{transformOrigin:"top left"},transitionProperty:"opacity, transform"},ir=O.exports.forwardRef((e,t)=>{var r=e,{classNames:n,className:a,style:o,styles:i,wrapperProps:s,required:l,allowFreeInput:c=!1,label:u,error:f,id:p,description:m,placeholder:g,shadow:h,transition:y=ai,transitionDuration:_=100,transitionTimingFunction:x,size:b="sm",children:D,inputLabel:S,__staticSelector:$="DatePickerBase",dropdownOpened:C,setDropdownOpened:w,dropdownType:M="popover",dropdownPosition:v="flip",clearable:P=!0,clearButtonLabel:k,onClear:T,positionDependencies:E=[],zIndex:q,withinPortal:X=!1,onBlur:I,onFocus:F,onChange:U,onKeyDown:B,name:H="date",sx:ue,amountOfMonths:oe=1,onDropdownClose:le,onDropdownOpen:V,clickOutsideEvents:re=["mousedown","touchstart"],modalZIndex:z,errorProps:se,labelProps:ne,descriptionProps:te,clearButtonTabIndex:K=0,unstyled:A,inputContainer:G,inputWrapperOrder:Y,modalProps:Q,withAsterisk:Z}=r,he=ri(r,["classNames","className","style","styles","wrapperProps","required","allowFreeInput","label","error","id","description","placeholder","shadow","transition","transitionDuration","transitionTimingFunction","size","children","inputLabel","__staticSelector","dropdownOpened","setDropdownOpened","dropdownType","dropdownPosition","clearable","clearButtonLabel","onClear","positionDependencies","zIndex","withinPortal","onBlur","onFocus","onChange","onKeyDown","name","sx","amountOfMonths","onDropdownClose","onDropdownOpen","clickOutsideEvents","modalZIndex","errorProps","labelProps","descriptionProps","clearButtonTabIndex","unstyled","inputContainer","inputWrapperOrder","modalProps","withAsterisk"]);const{classes:J,cx:me,theme:_e}=Qs(null,{classNames:n,styles:i,unstyled:A,name:$}),{systemStyles:ge,rest:ce}=tr(he),be=rr(p),de=O.exports.useRef(),ee=()=>{w(!1),le==null||le()},ve=()=>{w(!0),V==null||V()},we=()=>{w(!C),C?le==null||le():V==null||V()},ie=ye=>{ye.key==="Escape"&&(ee(),window.setTimeout(()=>{var Se;return(Se=de.current)==null?void 0:Se.focus()},0))},R=P?L.createElement(nr,{variant:"transparent","aria-label":k,onClick:T,size:b,tabIndex:K,unstyled:A}):null,N=ye=>{typeof I=="function"&&I(ye),c&&ee()},fe=ye=>{typeof F=="function"&&F(ye),c&&ve()},ae=ye=>{typeof B=="function"&&B(ye),(ye.key==="Space"||ye.key==="Enter")&&!c&&(ye.preventDefault(),ve())};return L.createElement(We.Wrapper,Ke(Ke({required:l,id:be,label:u,error:f,description:m,className:a,style:o,classNames:n,styles:i,size:b,__staticSelector:$,sx:ue,errorProps:se,descriptionProps:te,labelProps:ne,inputContainer:G,inputWrapperOrder:Y,unstyled:A,withAsterisk:Z},ge),s),L.createElement(Rt,{__staticSelector:$,withinPortal:X,offset:10,opened:C,transitionDuration:_,transition:y,positionDependencies:E,middlewares:{flip:v==="flip",shift:!1},position:v==="flip"?"bottom-start":v,shadow:h,onClose:ee,trapFocus:!c,withRoles:!1,clickOutsideEvents:re,zIndex:q,classNames:n,styles:i,unstyled:A},L.createElement(Rt.Target,null,L.createElement("div",{className:J.wrapper},L.createElement(We,Ke({classNames:zr(Ke({},n),{input:me(J.input,n==null?void 0:n.input)}),"data-free-input":c||void 0,styles:i,onClick:()=>c?ve():we(),onKeyDown:ae,id:be,ref:Be(t,de),__staticSelector:$,size:b,name:H,placeholder:g,value:S,required:l,invalid:!!f,readOnly:!c,rightSection:R,rightSectionWidth:_e.fn.size({size:b,sizes:ni}),onBlur:N,onFocus:fe,onChange:U,autoComplete:"off",unstyled:A},ce)))),M==="popover"?L.createElement(Rt.Dropdown,null,L.createElement("div",{"data-mantine-stop-propagation":C,onKeyDownCapture:ie,"aria-hidden":c||void 0},D)):L.createElement(Ca,zr(Ke({},Q),{opened:C,onClose:ee,withCloseButton:!1,size:oe*400,zIndex:z,unstyled:A}),D)))});ir.displayName="@mantine/dates/DatePickerBase";var oi=Object.defineProperty,_t=Object.getOwnPropertySymbols,Bn=Object.prototype.hasOwnProperty,qn=Object.prototype.propertyIsEnumerable,Ar=(e,t,r)=>t in e?oi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,si=(e,t)=>{for(var r in t||(t={}))Bn.call(t,r)&&Ar(e,r,t[r]);if(_t)for(var r of _t(t))qn.call(t,r)&&Ar(e,r,t[r]);return e},ii=(e,t)=>{var r={};for(var n in e)Bn.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&_t)for(var n of _t(e))t.indexOf(n)<0&&qn.call(e,n)&&(r[n]=e[n]);return r};const li={shadow:"sm",transitionDuration:200,closeCalendarOnChange:!0,labelFormat:"MMMM YYYY",initiallyOpened:!1,name:"date",size:"sm",dropdownType:"popover",dropdownPosition:"flip",clearable:!0,disabled:!1,fixOnBlur:!0,withinPortal:!1,firstDayOfWeek:"monday",openDropdownOnClear:!1},ci=O.exports.forwardRef((e,t)=>{const r=Ae("DatePicker",li,e),{value:n,onChange:a,defaultValue:o,classNames:i,styles:s,shadow:l,locale:c,inputFormat:u,transitionDuration:f,transitionTimingFunction:p,nextMonthLabel:m,previousMonthLabel:g,closeCalendarOnChange:h,labelFormat:y,dayClassName:_,dayStyle:x,disableOutsideEvents:b,minDate:D,maxDate:S,excludeDate:$,initialMonth:C,initiallyOpened:w,name:M,size:v,dropdownType:P,dropdownPosition:k,clearable:T,disabled:E,clearButtonLabel:q,fixOnBlur:X,allowFreeInput:I,withinPortal:F,dateParser:U,firstDayOfWeek:B,onFocus:H,onBlur:ue,amountOfMonths:oe,allowLevelChange:le,initialLevel:V,onDropdownClose:re,onDropdownOpen:z,hideOutsideDates:se,hideWeekdays:ne,renderDay:te,type:K,openDropdownOnClear:A,unstyled:G,weekendDays:Y,yearLabelFormat:Q,nextDecadeLabel:Z,nextYearLabel:he,previousDecadeLabel:J,previousYearLabel:me}=r,_e=ii(r,["value","onChange","defaultValue","classNames","styles","shadow","locale","inputFormat","transitionDuration","transitionTimingFunction","nextMonthLabel","previousMonthLabel","closeCalendarOnChange","labelFormat","dayClassName","dayStyle","disableOutsideEvents","minDate","maxDate","excludeDate","initialMonth","initiallyOpened","name","size","dropdownType","dropdownPosition","clearable","disabled","clearButtonLabel","fixOnBlur","allowFreeInput","withinPortal","dateParser","firstDayOfWeek","onFocus","onBlur","amountOfMonths","allowLevelChange","initialLevel","onDropdownClose","onDropdownOpen","hideOutsideDates","hideWeekdays","renderDay","type","openDropdownOnClear","unstyled","weekendDays","yearLabelFormat","nextDecadeLabel","nextYearLabel","previousDecadeLabel","previousYearLabel"]),ge=Mt(),ce=c||ge.datesLocale,be=K==="date"?"YYYY-MM-DD":u||ge.dateFormat,[de,ee]=O.exports.useState(w),ve=v==="lg"||v==="xl"?"md":"sm",we=O.exports.useRef(),[ie,R]=O.exports.useState(o??null),[N,fe]=er({value:n,defaultValue:o,finalValue:null,onChange:a}),[ae,ye]=O.exports.useState(N||C||new Date),[Se,Fe]=O.exports.useState(!1),[Pe,Ce]=O.exports.useState(N instanceof Date?Te(W(N).locale(ce).format(be)):""),He=()=>{ee(!1),re==null||re()},Ie=()=>{ee(!0),z==null||z()};O.exports.useEffect(()=>{n===null&&!Se&&Ce(""),n instanceof Date&&!Se&&Ce(Te(W(n).locale(ce).format(be)))},[n,Se]);const Qe=pe=>{fe(pe),Ce(Te(W(pe).locale(ce).format(be))),h&&He(),window.setTimeout(()=>{var je;return(je=we.current)==null?void 0:je.focus()},0)},ke=()=>{var pe;fe(null),R(null),Ce(""),A&&Ie(),(pe=we.current)==null||pe.focus()},Je=pe=>U?U(pe):W(pe,be,ce).toDate(),Me=()=>{let pe=typeof N=="string"?Je(N):N;S&&W(pe).isAfter(S)&&(pe=S),D&&W(pe).isBefore(D)&&(pe=D),W(pe).isValid()?(fe(pe),R(pe),Ce(Te(W(pe).locale(ce).format(be))),ye(pe)):X&&fe(ie)},Ge=pe=>{typeof ue=="function"&&ue(pe),Fe(!1),I&&Me()},Pa=pe=>{pe.key==="Enter"&&I&&(He(),Me())},Da=pe=>{typeof H=="function"&&H(pe),Fe(!0)},Sa=pe=>{Ie();const je=Je(pe.target.value);W(je).isValid()?(fe(je),R(je),Ce(pe.target.value),ye(je)):Ce(pe.target.value)};return L.createElement(ir,si({allowFreeInput:I,dropdownOpened:de,setDropdownOpened:ee,shadow:l,transitionDuration:f,ref:Be(t,we),size:v,styles:s,classNames:i,onChange:Sa,onBlur:Ge,onFocus:Da,onKeyDown:Pa,name:M,inputLabel:Pe,__staticSelector:"DatePicker",dropdownType:P,dropdownPosition:k,clearable:K==="date"?!1:T&&!!N&&!E,clearButtonLabel:q,onClear:ke,disabled:E,withinPortal:F,amountOfMonths:oe,onDropdownClose:re,onDropdownOpen:z,type:K,unstyled:G},_e),L.createElement(Yn,{classNames:i,styles:s,locale:ce,nextMonthLabel:m,previousMonthLabel:g,month:I?ae:void 0,initialMonth:C||(N instanceof Date?N:new Date),onMonthChange:ye,value:N instanceof Date?N:W(N).toDate(),onChange:Qe,labelFormat:y,dayClassName:_,dayStyle:x,disableOutsideEvents:b,minDate:D,maxDate:S,excludeDate:$,__staticSelector:"DatePicker",fullWidth:P==="modal",__stopPropagation:P!=="modal",size:P==="modal"?"lg":ve,firstDayOfWeek:B,preventFocus:I,amountOfMonths:oe,allowLevelChange:le,initialLevel:V,hideOutsideDates:se,hideWeekdays:ne,renderDay:te,unstyled:G,weekendDays:Y,yearLabelFormat:Q,nextDecadeLabel:Z,nextYearLabel:he,previousDecadeLabel:J,previousYearLabel:me}))});ci.displayName="@mantine/dates/DatePicker";var ui=Object.defineProperty,xt=Object.getOwnPropertySymbols,Vn=Object.prototype.hasOwnProperty,Wn=Object.prototype.propertyIsEnumerable,Br=(e,t,r)=>t in e?ui(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,di=(e,t)=>{for(var r in t||(t={}))Vn.call(t,r)&&Br(e,r,t[r]);if(xt)for(var r of xt(t))Wn.call(t,r)&&Br(e,r,t[r]);return e},fi=(e,t)=>{var r={};for(var n in e)Vn.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&xt)for(var n of xt(e))t.indexOf(n)<0&&Wn.call(e,n)&&(r[n]=e[n]);return r};const pi={__staticSelector:"RangeCalendar",allowSingleDateInRange:!1,amountOfMonths:1},Hn=O.exports.forwardRef((e,t)=>{const r=Ae("RangeCalendar",pi,e),{value:n,onChange:a,dayStyle:o,onMouseLeave:i,__staticSelector:s,allowSingleDateInRange:l,amountOfMonths:c,paginateBy:u}=r,f=fi(r,["value","onChange","dayStyle","onMouseLeave","__staticSelector","allowSingleDateInRange","amountOfMonths","paginateBy"]),[p,m]=O.exports.useState(null),[g,h]=O.exports.useState(null),y=S=>{if(g instanceof Date){if(Le(S,g)&&!l)return h(null),m(null),null;const $=[S,g];return $.sort((C,w)=>C.getTime()-w.getTime()),a($),h(null),null}return n[0]&&Le(S,n[0])&&!l?(h(null),m(null),a([null,null]),null):(a([S,null]),h(S),null)},_=S=>{typeof i=="function"&&i(S),m(null)},x=(S,$)=>{if(g instanceof Date&&p instanceof Date){const C=[p,g];return C.sort((w,M)=>w.getTime()-M.getTime()),!$.selected&&W(S).subtract(1,"day").isBefore(C[1])&&W(S).add(1,"day").isAfter(C[0])}return!1},b=(S,$)=>{if(g instanceof Date&&p instanceof Date){const C=[p,g];return C.sort((w,M)=>w.getTime()-M.getTime()),$.selected&&W(S).isBefore(C[1])}return!1},D=(S,$)=>{if(g instanceof Date&&p instanceof Date){const C=[p,g];return C.sort((w,M)=>w.getTime()-M.getTime()),$.selected&&W(S).isAfter(C[0])}return!1};return L.createElement(sr,di({dayStyle:o,onMouseLeave:_,onDayMouseEnter:S=>m(S),onChange:y,value:g,range:n,ref:t,__staticSelector:s,amountOfMonths:c,paginateBy:u||c,hideOutsideDates:c>1,isDateInRange:x,isDateFirstInRange:b,isDateLastInRange:D},f))});Hn.displayName="@mantine/dates/RangeCalendar";var hi=Object.defineProperty,wt=Object.getOwnPropertySymbols,Gn=Object.prototype.hasOwnProperty,Kn=Object.prototype.propertyIsEnumerable,qr=(e,t,r)=>t in e?hi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,mi=(e,t)=>{for(var r in t||(t={}))Gn.call(t,r)&&qr(e,r,t[r]);if(wt)for(var r of wt(t))Kn.call(t,r)&&qr(e,r,t[r]);return e},gi=(e,t)=>{var r={};for(var n in e)Gn.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&wt)for(var n of wt(e))t.indexOf(n)<0&&Kn.call(e,n)&&(r[n]=e[n]);return r};const Vr=e=>Array.isArray(e)&&e.length===2&&e.every(t=>t instanceof Date),yi=e=>Array.isArray(e)&&e.length===2&&e[0]instanceof Date,vi={shadow:"sm",transitionDuration:200,closeCalendarOnChange:!0,labelFormat:"MMMM YYYY",initiallyOpened:!1,size:"sm",dropdownType:"popover",labelSeparator:"â€“",clearable:!0,firstDayOfWeek:"monday",allowSingleDateInRange:!1,amountOfMonths:1,withinPortal:!1,openDropdownOnClear:!1},Xn=O.exports.forwardRef((e,t)=>{const r=Ae("DateRangePicker",vi,e),{value:n,onChange:a,defaultValue:o,classNames:i,styles:s,shadow:l,locale:c,inputFormat:u,transitionDuration:f,transitionTimingFunction:p,nextMonthLabel:m,previousMonthLabel:g,closeCalendarOnChange:h,labelFormat:y,dayClassName:_,dayStyle:x,disableOutsideEvents:b,minDate:D,maxDate:S,excludeDate:$,initialMonth:C,initiallyOpened:w,size:M,dropdownType:v,labelSeparator:P,clearable:k,clearButtonLabel:T,firstDayOfWeek:E,allowLevelChange:q,allowSingleDateInRange:X,amountOfMonths:I,withinPortal:F,initialLevel:U,onDropdownClose:B,onDropdownOpen:H,hideOutsideDates:ue,hideWeekdays:oe,renderDay:le,openDropdownOnClear:V,unstyled:re,weekendDays:z,yearLabelFormat:se,nextDecadeLabel:ne,nextYearLabel:te,previousDecadeLabel:K,previousYearLabel:A}=r,G=gi(r,["value","onChange","defaultValue","classNames","styles","shadow","locale","inputFormat","transitionDuration","transitionTimingFunction","nextMonthLabel","previousMonthLabel","closeCalendarOnChange","labelFormat","dayClassName","dayStyle","disableOutsideEvents","minDate","maxDate","excludeDate","initialMonth","initiallyOpened","size","dropdownType","labelSeparator","clearable","clearButtonLabel","firstDayOfWeek","allowLevelChange","allowSingleDateInRange","amountOfMonths","withinPortal","initialLevel","onDropdownClose","onDropdownOpen","hideOutsideDates","hideWeekdays","renderDay","openDropdownOnClear","unstyled","weekendDays","yearLabelFormat","nextDecadeLabel","nextYearLabel","previousDecadeLabel","previousYearLabel"]),Y=Mt(),Q=c||Y.datesLocale,Z=u||Y.dateFormat,[he,J]=O.exports.useState(w),me=M==="lg"||M==="xl"?"md":"sm",_e=O.exports.useRef(),[ge,ce]=er({value:n,defaultValue:o,finalValue:[null,null],onChange:a}),be=N=>{ce(N),h&&Vr(N)&&(J(!1),B==null||B(),window.setTimeout(()=>{var fe;return(fe=_e.current)==null?void 0:fe.focus()},0))},de=Vr(ge),ee=yi(ge),ve=ge[0]?Te(W(ge[0]).locale(Q).format(Z)):"",we=ge[1]?Te(W(ge[1]).locale(Q).format(Z)):"",ie=()=>{var N;ce([null,null]),J(!0),V&&(H==null||H()),(N=_e.current)==null||N.focus()},R=N=>{!N&&ee&&ge[1]===null&&ie(),J(N)};return L.createElement(ir,mi({dropdownOpened:he,setDropdownOpened:R,shadow:l,transitionDuration:f,ref:Be(t,_e),size:M,styles:s,classNames:i,inputLabel:ee?`${ve} ${P} ${we}`:"",__staticSelector:"DateRangePicker",dropdownType:v,clearable:k&&ee,clearButtonLabel:T,onClear:ie,withinPortal:F,amountOfMonths:I,onDropdownClose:B,onDropdownOpen:H,unstyled:re},G),L.createElement(Hn,{classNames:i,styles:s,locale:Q,nextMonthLabel:m,previousMonthLabel:g,initialMonth:de?ge[0]:C,value:ge,onChange:be,labelFormat:y,dayClassName:_,dayStyle:x,disableOutsideEvents:b,minDate:D,maxDate:S,excludeDate:$,__staticSelector:"DateRangePicker",fullWidth:v==="modal",firstDayOfWeek:E,size:v==="modal"?"lg":me,allowLevelChange:q,allowSingleDateInRange:X,amountOfMonths:I,initialLevel:U,hideOutsideDates:ue,hideWeekdays:oe,renderDay:le,unstyled:re,weekendDays:z,yearLabelFormat:se,nextDecadeLabel:ne,nextYearLabel:te,previousDecadeLabel:K,previousYearLabel:A}))});Xn.displayName="@mantine/dates/DateRangePicker";function Ne(e){const t=parseInt(e,10);return t>=10?t.toString():`0${t}`}var bi=Object.defineProperty,_i=Object.defineProperties,xi=Object.getOwnPropertyDescriptors,Wr=Object.getOwnPropertySymbols,wi=Object.prototype.hasOwnProperty,Oi=Object.prototype.propertyIsEnumerable,Hr=(e,t,r)=>t in e?bi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Pi=(e,t)=>{for(var r in t||(t={}))wi.call(t,r)&&Hr(e,r,t[r]);if(Wr)for(var r of Wr(t))Oi.call(t,r)&&Hr(e,r,t[r]);return e},Di=(e,t)=>_i(e,xi(t));const Si={xs:20,sm:23,md:25,lg:27,xl:29};var Un=De((e,{size:t,hasValue:r})=>({timeInput:Di(Pi({},e.fn.fontStyles()),{width:e.fn.size({size:t,sizes:Si}),appearance:"none",backgroundColor:"transparent",color:"inherit",padding:0,textAlign:"center",border:"1px solid transparent",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),lineHeight:1,outline:0,"&:focus":{textAlign:r?void 0:"start"},"&::placeholder":{width:"auto",textAlign:"left"},"&[disabled]":{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[7],cursor:"not-allowed"}}),amPmInput:{textAlign:"left"}})),Ci=Object.defineProperty,Ot=Object.getOwnPropertySymbols,Zn=Object.prototype.hasOwnProperty,Qn=Object.prototype.propertyIsEnumerable,Gr=(e,t,r)=>t in e?Ci(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Mi=(e,t)=>{for(var r in t||(t={}))Zn.call(t,r)&&Gr(e,r,t[r]);if(Ot)for(var r of Ot(t))Qn.call(t,r)&&Gr(e,r,t[r]);return e},$i=(e,t)=>{var r={};for(var n in e)Zn.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Ot)for(var n of Ot(e))t.indexOf(n)<0&&Qn.call(e,n)&&(r[n]=e[n]);return r};const st=O.exports.forwardRef((e,t)=>{var r=e,{className:n,onFocus:a,onBlur:o,onChange:i,setValue:s,withSeparator:l=!1,size:c="sm",max:u,min:f=0,value:p,unstyled:m}=r,g=$i(r,["className","onFocus","onBlur","onChange","setValue","withSeparator","size","max","min","value","unstyled"]);const[h,y]=O.exports.useState(0),{classes:_,cx:x,theme:b}=Un({size:c,hasValue:!!p},{name:"TimeField",unstyled:m}),D=O.exports.useRef(),S=v=>{typeof a=="function"&&a(v),D.current.select(),y(0)},$=v=>{typeof o=="function"&&o(v),h===1&&typeof i=="function"&&i(v.currentTarget.value,!1)},C=v=>{v.stopPropagation(),D.current.select()},w=v=>{if(v.key==="ArrowUp"){v.preventDefault();const P=Ne(qt(parseInt(v.currentTarget.value,10)+1,f,u).toString());p!==P&&i(P,!1)}if(v.key==="ArrowDown"){v.preventDefault();const P=Ne(qt(parseInt(v.currentTarget.value,10)-1,f,u).toString());p!==P&&i(P,!1)}},M=v=>{y(h+1);const P=parseInt(v.currentTarget.value,10).toString();if(P==="0"&&h===0){s("00");return}i(P,!0,h>0)};return L.createElement(L.Fragment,null,L.createElement("input",Mi({type:"text",inputMode:"numeric",ref:Be(D,t),onChange:M,onClick:C,onFocus:S,onBlur:$,onKeyDown:w,value:p,className:x(_.timeInput,n)},g)),l&&L.createElement(it,{size:c,unstyled:m,style:{lineHeight:1,color:p?"inherit":b.colorScheme==="dark"?b.colors.dark[2]:b.colors.gray[7]}},":"))});st.displayName="@mantine/dates/TimeField";function Ft(e){return Math.floor(e/10)}function jt({onChange:e,nextRef:t,min:r,max:n,nextMax:a}){return(o,i,s=!1)=>{var l,c;const u=parseInt(o,10);if(!Number.isNaN(u)){if(u>Ft(n)||s){const f=u%10;let p,m;u>n&&a&&f<=Ft(a)?(p=Ne(Ft(u).toString()),m=Ne(f.toString())):p=Ne(qt(u,r,n).toString()),e(p,m),i&&((l=t==null?void 0:t.current)==null||l.focus()),i&&((c=t==null?void 0:t.current)==null||c.select());return}e(u.toString())}}}var ki=De((e,{size:t})=>({timeInput:{},amPmInput:{},disabled:{cursor:"not-allowed"},controls:{display:"flex",alignItems:"center",height:e.fn.size({size:t,sizes:tn})-2}})),Ri=Object.defineProperty,Pt=Object.getOwnPropertySymbols,Jn=Object.prototype.hasOwnProperty,ea=Object.prototype.propertyIsEnumerable,Kr=(e,t,r)=>t in e?Ri(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Li=(e,t)=>{for(var r in t||(t={}))Jn.call(t,r)&&Kr(e,r,t[r]);if(Pt)for(var r of Pt(t))ea.call(t,r)&&Kr(e,r,t[r]);return e},Ii=(e,t)=>{var r={};for(var n in e)Jn.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Pt)for(var n of Pt(e))t.indexOf(n)<0&&ea.call(e,n)&&(r[n]=e[n]);return r};const ta=O.exports.forwardRef((e,t)=>{var r=e,{className:n,onChange:a,onFocus:o,size:i="sm",value:s,unstyled:l,amLabel:c,pmLabel:u}=r,f=Ii(r,["className","onChange","onFocus","size","value","unstyled","amLabel","pmLabel"]);const{classes:p,cx:m}=Un({size:i,hasValue:!!s},{name:"AmPmInput",unstyled:l}),g=O.exports.useRef(),h=b=>{typeof o=="function"&&o(b),g.current.select()},y=b=>{b.stopPropagation(),g.current.select()},_=b=>{(b.key==="ArrowUp"||b.key==="ArrowDown")&&(b.preventDefault(),a(s===c?u:c,!0))},x=b=>{const D=b.target.value.slice(-1).toLowerCase();if(D==="p"){b.preventDefault(),a(u,!0);return}if(D==="a"){b.preventDefault(),a(c,!0);return}a(s.toString(),!0)};return L.createElement("input",Li({type:"text",ref:Be(g,t),onClick:y,onFocus:h,onKeyDown:_,onChange:x,value:s,className:m(p.timeInput,p.amPmInput)},f))});ta.displayName="@mantine/dates/AmPmInput";function Ei({amLabel:e,pmLabel:t,onChange:r,nextRef:n}){return(a,o)=>{var i,s;const l=new RegExp(`(^(${e}|${t})?$)`),c=a.toLowerCase();if(c===e||c===t){r(c),o&&((i=n==null?void 0:n.current)==null||i.focus()),o&&((s=n==null?void 0:n.current)==null||s.select());return}!l.test(c)||r(c)}}function Ti(e,t,r,n,a,o){const i=W();let s=parseInt(e,10);const l=parseInt(t,10),c=parseInt(r,10);return Number.isNaN(s)&&(s=0),n==="12"&&(s%=12,o===a&&(s+=12)),i.hour(s).minute(Number.isNaN(l)?0:l).second(Number.isNaN(c)?0:c).millisecond(0).toDate()}function Xr(e,t,r,n){if(!(e instanceof Date))return{hours:"",minutes:"",seconds:"",amPm:""};let a=e.getHours();const o=a>=12;return t==="12"&&(a%=12,a===0&&(a+=12)),{hours:Ne(a.toString()),minutes:Ne(e.getMinutes().toString()),seconds:Ne(e.getSeconds().toString()),amPm:o?n:r}}var Ni=Object.defineProperty,Fi=Object.defineProperties,ji=Object.getOwnPropertyDescriptors,Dt=Object.getOwnPropertySymbols,ra=Object.prototype.hasOwnProperty,na=Object.prototype.propertyIsEnumerable,Ur=(e,t,r)=>t in e?Ni(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ee=(e,t)=>{for(var r in t||(t={}))ra.call(t,r)&&Ur(e,r,t[r]);if(Dt)for(var r of Dt(t))na.call(t,r)&&Ur(e,r,t[r]);return e},Yt=(e,t)=>Fi(e,ji(t)),Yi=(e,t)=>{var r={};for(var n in e)ra.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Dt)for(var n of Dt(e))t.indexOf(n)<0&&na.call(e,n)&&(r[n]=e[n]);return r};const zi={xs:24,sm:30,md:34,lg:40,xl:44},Ai={size:"sm",withSeconds:!1,clearable:!1,format:"24",amLabel:"am",pmLabel:"pm",timePlaceholder:"--",amPmPlaceholder:"am",disabled:!1},Ht=O.exports.forwardRef((e,t)=>{const r=Ae("TimeInput",Ai,e),{required:n,label:a,error:o,description:i,className:s,style:l,size:c,wrapperProps:u,classNames:f,styles:p,id:m,value:g,defaultValue:h,onChange:y,withSeconds:_,clearable:x,clearButtonLabel:b,format:D,amLabel:S,pmLabel:$,name:C,hoursLabel:w,minutesLabel:M,secondsLabel:v,amPmLabel:P,timePlaceholder:k,amPmPlaceholder:T,disabled:E,sx:q,nextRef:X,labelProps:I,descriptionProps:F,errorProps:U,unstyled:B,withAsterisk:H}=r,ue=Yi(r,["required","label","error","description","className","style","size","wrapperProps","classNames","styles","id","value","defaultValue","onChange","withSeconds","clearable","clearButtonLabel","format","amLabel","pmLabel","name","hoursLabel","minutesLabel","secondsLabel","amPmLabel","timePlaceholder","amPmPlaceholder","disabled","sx","nextRef","labelProps","descriptionProps","errorProps","unstyled","withAsterisk"]),{classes:oe,cx:le,theme:V}=ki({size:c},{classNames:f,styles:p,unstyled:B,name:"TimeInput"}),{systemStyles:re,rest:z}=tr(ue),se=rr(m),ne=O.exports.useRef(),te=O.exports.useRef(),K=O.exports.useRef(),A=O.exports.useRef(),[G,Y]=O.exports.useState(Xr(g||h,D,S,$)),[Q,Z]=O.exports.useState(g||h);lt(()=>{Y(Xr(Q,D,S,$))},[Q,D,S,$]),lt(()=>{(g==null?void 0:g.getTime())!==(Q==null?void 0:Q.getTime())&&Z(g)},[g]);const he=de=>{const ee=Ee(Ee({},G),de),ve=Ti(ee.hours,ee.minutes,ee.seconds,D,$,ee.amPm);Z(ve),typeof y=="function"&&y(ve)},J=jt({onChange:(de,ee)=>{he({hours:de,minutes:ee??G.minutes})},min:D==="12"?1:0,max:D==="12"?12:23,nextRef:te,nextMax:59}),me=jt({onChange:(de,ee)=>{he({minutes:de,seconds:ee??G.seconds})},min:0,max:59,nextRef:_?K:D==="12"?A:X,nextMax:_?59:void 0}),_e=jt({onChange:de=>{he({seconds:de})},min:0,max:59,nextRef:D==="12"?A:X}),ge=Ei({amLabel:S,pmLabel:$,onChange:de=>{he({amPm:de})},nextRef:X}),ce=()=>{Y({hours:"",minutes:"",seconds:"",amPm:""}),Z(null),y==null||y(null),ne.current.focus()},be=x&&Q&&!E?L.createElement(nr,{variant:"transparent","aria-label":b,onClick:ce,size:c,unstyled:B}):null;return L.createElement(We.Wrapper,Ee(Ee({required:n,label:a,error:o,description:i,className:s,style:l,classNames:f,styles:p,size:c,__staticSelector:"TimeInput",id:se,sx:q,errorProps:U,descriptionProps:F,labelProps:I,unstyled:B,withAsterisk:H},re),u),L.createElement(We,Ee({component:"div",__staticSelector:"TimeInput",required:n,invalid:!!o,onClick:()=>ne.current.focus(),size:c,className:le({[oe.disabled]:E}),classNames:f,styles:p,disabled:E,rightSection:be,rightSectionWidth:V.fn.size({size:c,sizes:zi}),unstyled:B},z),L.createElement("div",{className:oe.controls},L.createElement(st,{ref:Be(ne,t),value:G.hours,onChange:J,setValue:de=>Y(ee=>Yt(Ee({},ee),{hours:de})),id:se,className:oe.timeInput,withSeparator:!0,size:c,max:D==="12"?12:23,placeholder:k,"aria-label":w,disabled:E,name:C,unstyled:B}),L.createElement(st,{ref:te,value:G.minutes,onChange:me,setValue:de=>Y(ee=>Yt(Ee({},ee),{minutes:de})),className:oe.timeInput,withSeparator:_,size:c,max:59,placeholder:k,"aria-label":M,disabled:E,unstyled:B}),_&&L.createElement(st,{ref:K,value:G.seconds,onChange:_e,setValue:de=>Y(ee=>Yt(Ee({},ee),{seconds:de})),className:oe.timeInput,size:c,max:59,placeholder:k,"aria-label":v,disabled:E,unstyled:B}),D==="12"&&L.createElement(ta,{ref:A,value:G.amPm,onChange:ge,placeholder:T,amLabel:S,pmLabel:$,size:c,"aria-label":P,disabled:E,unstyled:B}))))});Ht.displayName="@mantine/dates/TimeInput";var Bi=De((e,{size:t})=>({timeField:{},disabled:{opacity:.6,cursor:"not-allowed"},inputWrapper:{display:"inline-flex",alignItems:"center",height:e.fn.size({size:t,sizes:tn})-2},separator:{paddingLeft:e.fn.size({size:t,sizes:e.spacing})/2,paddingRight:e.fn.size({size:t,sizes:e.spacing})/2,lineHeight:1}})),qi=Object.defineProperty,St=Object.getOwnPropertySymbols,aa=Object.prototype.hasOwnProperty,oa=Object.prototype.propertyIsEnumerable,Zr=(e,t,r)=>t in e?qi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Xe=(e,t)=>{for(var r in t||(t={}))aa.call(t,r)&&Zr(e,r,t[r]);if(St)for(var r of St(t))oa.call(t,r)&&Zr(e,r,t[r]);return e},Vi=(e,t)=>{var r={};for(var n in e)aa.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&St)for(var n of St(e))t.indexOf(n)<0&&oa.call(e,n)&&(r[n]=e[n]);return r};const Wi={xs:24,sm:30,md:34,lg:40,xl:44},Hi={size:"sm",defaultValue:[null,null],withSeconds:!1,clearable:!1,format:"24",timePlaceholder:"--",amPmPlaceholder:"am",labelSeparator:"â€“",disabled:!1},Gi=O.exports.forwardRef((e,t)=>{const r=Ae("TimeRangeInput",Hi,e),{required:n,label:a,error:o,description:i,className:s,style:l,size:c,wrapperProps:u,classNames:f,styles:p,id:m,value:g,defaultValue:h,onChange:y,withSeconds:_,clearable:x,clearButtonLabel:b,format:D,name:S,hoursLabel:$,minutesLabel:C,secondsLabel:w,amPmLabel:M,timePlaceholder:v,amPmPlaceholder:P,labelSeparator:k,disabled:T,sx:E,labelProps:q,descriptionProps:X,errorProps:I,unstyled:F,withAsterisk:U}=r,B=Vi(r,["required","label","error","description","className","style","size","wrapperProps","classNames","styles","id","value","defaultValue","onChange","withSeconds","clearable","clearButtonLabel","format","name","hoursLabel","minutesLabel","secondsLabel","amPmLabel","timePlaceholder","amPmPlaceholder","labelSeparator","disabled","sx","labelProps","descriptionProps","errorProps","unstyled","withAsterisk"]),{classes:H,cx:ue,theme:oe}=Bi({size:c},{classNames:f,styles:p,unstyled:F,name:"TimeRangeInput"}),{systemStyles:le,rest:V}=tr(B),re=rr(m),z=O.exports.useRef(),se=O.exports.useRef(),[ne,te]=O.exports.useState(g??h);lt(()=>{typeof y=="function"&&y(ne)},[ne]),lt(()=>{var Y,Q,Z,he;(((Y=g[0])==null?void 0:Y.getTime())!==((Q=ne[0])==null?void 0:Q.getTime())||((Z=g[1])==null?void 0:Z.getTime())!==((he=ne[1])==null?void 0:he.getTime()))&&te(g)},[g]);const K=()=>{var Y;te([null,null]),(Y=z.current)==null||Y.focus()},A=x&&ne.filter(Y=>Boolean(Y)).length>0?L.createElement(nr,{variant:"transparent","aria-label":b,onClick:K,size:c,unstyled:F}):null,G={amPmLabel:M,amPmPlaceholder:P,disabled:T,format:D,hoursLabel:$,minutesLabel:C,secondsLabel:w,size:c,timePlaceholder:v,withSeconds:_};return L.createElement(We.Wrapper,Xe(Xe({required:n,label:a,error:o,description:i,className:s,style:l,classNames:f,styles:p,size:c,__staticSelector:"TimeRangeInput",id:re,sx:E,errorProps:I,descriptionProps:X,labelProps:q,unstyled:F,withAsterisk:U},le),u),L.createElement(We,Xe({component:"div",__staticSelector:"TimeRangeInput",required:n,invalid:!!o,onClick:()=>{var Y;(Y=z.current)==null||Y.focus()},size:c,className:ue({[H.disabled]:T}),classNames:f,styles:p,disabled:T,rightSection:A,rightSectionWidth:oe.fn.size({size:c,sizes:Wi}),unstyled:F},V),L.createElement("div",{className:H.inputWrapper},L.createElement(Ht,Xe({ref:Be(z,t),variant:"unstyled",value:ne[0],onChange:Y=>te([Y,ne[1]]),name:S,nextRef:se,id:re,unstyled:F},G)),L.createElement("span",{className:H.separator,style:{color:oe.colorScheme==="dark"?oe.colors.dark[2]:oe.colors.gray[7]}},k),L.createElement(Ht,Xe({ref:se,variant:"unstyled",value:ne[1],onChange:Y=>te([ne[0],Y]),unstyled:F},G)))))});Gi.displayName="@mantine/dates/TimeRangeInput";const Ki=De(e=>({grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:e.spacing.sm}})),Xi=["Week","Month","Year","Custom"];function Ui({filters:e,updateFilter:t,dateRange:r,setDateRange:n}){const{classes:a}=Ki();return $e($t,{className:a.grid,children:[$e(Bt,{spacing:0,children:[j(po,{label:"Timeframe",data:Xi.map(o=>({label:o,value:o.toLowerCase()})),value:e.timeframe,onChange:o=>t({timeframe:o})}),j(rn,{in:e.timeframe==="custom",children:j(Xn,{icon:j(Ma,{}),placeholder:"Select dates range",firstDayOfWeek:"sunday",pt:"md",value:r,onChange:n})})]}),j(uo,{label:"Exclude",data:hn("en","sunday","dddd").map((o,i)=>({label:o,value:i.toString()})),icon:j($a,{}),placeholder:"Select days",value:e.excludedDays,onChange:o=>t({excludedDays:o})}),$e(nn,{pt:6,children:[j(dr,{checked:e.enableLeftTicks,label:"Enable left ticks",onChange:({target:{checked:o}})=>t({enableLeftTicks:o})}),j(dr,{checked:e.enableBottomTicks,label:"Enable bottom ticks",onChange:({target:{checked:o}})=>t({enableBottomTicks:o})})]})]})}var sa={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ka,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d\d/,o=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,s={},l=function(h){return(h=+h)+(h>68?1900:2e3)},c=function(h){return function(y){this[h]=+y}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(h){(this.zone||(this.zone={})).offset=function(y){if(!y||y==="Z")return 0;var _=y.match(/([+-]|\d\d)/g),x=60*_[1]+(+_[2]||0);return x===0?0:_[0]==="+"?-x:x}(h)}],f=function(h){var y=s[h];return y&&(y.indexOf?y:y.s.concat(y.f))},p=function(h,y){var _,x=s.meridiem;if(x){for(var b=1;b<=24;b+=1)if(h.indexOf(x(b,0,y))>-1){_=b>12;break}}else _=h===(y?"pm":"PM");return _},m={A:[i,function(h){this.afternoon=p(h,!1)}],a:[i,function(h){this.afternoon=p(h,!0)}],S:[/\d/,function(h){this.milliseconds=100*+h}],SS:[a,function(h){this.milliseconds=10*+h}],SSS:[/\d{3}/,function(h){this.milliseconds=+h}],s:[o,c("seconds")],ss:[o,c("seconds")],m:[o,c("minutes")],mm:[o,c("minutes")],H:[o,c("hours")],h:[o,c("hours")],HH:[o,c("hours")],hh:[o,c("hours")],D:[o,c("day")],DD:[a,c("day")],Do:[i,function(h){var y=s.ordinal,_=h.match(/\d+/);if(this.day=_[0],y)for(var x=1;x<=31;x+=1)y(x).replace(/\[|\]/g,"")===h&&(this.day=x)}],M:[o,c("month")],MM:[a,c("month")],MMM:[i,function(h){var y=f("months"),_=(f("monthsShort")||y.map(function(x){return x.slice(0,3)})).indexOf(h)+1;if(_<1)throw new Error;this.month=_%12||_}],MMMM:[i,function(h){var y=f("months").indexOf(h)+1;if(y<1)throw new Error;this.month=y%12||y}],Y:[/[+-]?\d+/,c("year")],YY:[a,function(h){this.year=l(h)}],YYYY:[/\d{4}/,c("year")],Z:u,ZZ:u};function g(h){var y,_;y=h,_=s&&s.formats;for(var x=(h=y.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(M,v,P){var k=P&&P.toUpperCase();return v||_[P]||r[P]||_[k].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(T,E,q){return E||q.slice(1)})})).match(n),b=x.length,D=0;D<b;D+=1){var S=x[D],$=m[S],C=$&&$[0],w=$&&$[1];x[D]=w?{regex:C,parser:w}:S.replace(/^\[|\]$/g,"")}return function(M){for(var v={},P=0,k=0;P<b;P+=1){var T=x[P];if(typeof T=="string")k+=T.length;else{var E=T.regex,q=T.parser,X=M.slice(k),I=E.exec(X)[0];q.call(v,I),M=M.replace(I,"")}}return function(F){var U=F.afternoon;if(U!==void 0){var B=F.hours;U?B<12&&(F.hours+=12):B===12&&(F.hours=0),delete F.afternoon}}(v),v}}return function(h,y,_){_.p.customParseFormat=!0,h&&h.parseTwoDigitYear&&(l=h.parseTwoDigitYear);var x=y.prototype,b=x.parse;x.parse=function(D){var S=D.date,$=D.utc,C=D.args;this.$u=$;var w=C[1];if(typeof w=="string"){var M=C[2]===!0,v=C[3]===!0,P=M||v,k=C[2];v&&(k=C[2]),s=this.$locale(),!M&&k&&(s=_.Ls[k]),this.$d=function(X,I,F){try{if(["x","X"].indexOf(I)>-1)return new Date((I==="X"?1e3:1)*X);var U=g(I)(X),B=U.year,H=U.month,ue=U.day,oe=U.hours,le=U.minutes,V=U.seconds,re=U.milliseconds,z=U.zone,se=new Date,ne=ue||(B||H?1:se.getDate()),te=B||se.getFullYear(),K=0;B&&!H||(K=H>0?H-1:se.getMonth());var A=oe||0,G=le||0,Y=V||0,Q=re||0;return z?new Date(Date.UTC(te,K,ne,A,G,Y,Q+60*z.offset*1e3)):F?new Date(Date.UTC(te,K,ne,A,G,Y,Q)):new Date(te,K,ne,A,G,Y,Q)}catch{return new Date("")}}(S,w,$),this.init(),k&&k!==!0&&(this.$L=this.locale(k).$L),P&&S!=this.format(w)&&(this.$d=new Date("")),s={}}else if(w instanceof Array)for(var T=w.length,E=1;E<=T;E+=1){C[1]=w[E-1];var q=_.apply(this,C);if(q.isValid()){this.$d=q.$d,this.$L=q.$L,this.init();break}E===T&&(this.$d=new Date(""))}else b.call(this,D)}}})})(sa);const Zi=sa.exports;var Gt=Math.PI,Kt=2*Gt,Ye=1e-6,Qi=Kt-Ye;function Xt(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function lr(){return new Xt}Xt.prototype=lr.prototype={constructor:Xt,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,a,o){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+a)+","+(this._y1=+o)},arcTo:function(e,t,r,n,a){e=+e,t=+t,r=+r,n=+n,a=+a;var o=this._x1,i=this._y1,s=r-e,l=n-t,c=o-e,u=i-t,f=c*c+u*u;if(a<0)throw new Error("negative radius: "+a);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>Ye)if(!(Math.abs(u*s-l*c)>Ye)||!a)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var p=r-o,m=n-i,g=s*s+l*l,h=p*p+m*m,y=Math.sqrt(g),_=Math.sqrt(f),x=a*Math.tan((Gt-Math.acos((g+f-h)/(2*y*_)))/2),b=x/_,D=x/y;Math.abs(b-1)>Ye&&(this._+="L"+(e+b*c)+","+(t+b*u)),this._+="A"+a+","+a+",0,0,"+ +(u*p>c*m)+","+(this._x1=e+D*s)+","+(this._y1=t+D*l)}},arc:function(e,t,r,n,a,o){e=+e,t=+t,r=+r,o=!!o;var i=r*Math.cos(n),s=r*Math.sin(n),l=e+i,c=t+s,u=1^o,f=o?n-a:a-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+l+","+c:(Math.abs(this._x1-l)>Ye||Math.abs(this._y1-c)>Ye)&&(this._+="L"+l+","+c),r&&(f<0&&(f=f%Kt+Kt),f>Qi?this._+="A"+r+","+r+",0,1,"+u+","+(e-i)+","+(t-s)+"A"+r+","+r+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):f>Ye&&(this._+="A"+r+","+r+",0,"+ +(f>=Gt)+","+u+","+(this._x1=e+r*Math.cos(a))+","+(this._y1=t+r*Math.sin(a))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};function ia(e){return e[0]}function la(e){return e[1]}function ca(){var e=ia,t=la,r=Oe(!0),n=null,a=an,o=null;function i(s){var l,c=s.length,u,f=!1,p;for(n==null&&(o=a(p=lr())),l=0;l<=c;++l)!(l<c&&r(u=s[l],l,s))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(u,l,s),+t(u,l,s));if(p)return o=null,p+""||null}return i.x=function(s){return arguments.length?(e=typeof s=="function"?s:Oe(+s),i):e},i.y=function(s){return arguments.length?(t=typeof s=="function"?s:Oe(+s),i):t},i.defined=function(s){return arguments.length?(r=typeof s=="function"?s:Oe(!!s),i):r},i.curve=function(s){return arguments.length?(a=s,n!=null&&(o=a(n)),i):a},i.context=function(s){return arguments.length?(s==null?n=o=null:o=a(n=s),i):n},i}function Ji(){var e=ia,t=null,r=Oe(0),n=la,a=Oe(!0),o=null,i=an,s=null;function l(u){var f,p,m,g=u.length,h,y=!1,_,x=new Array(g),b=new Array(g);for(o==null&&(s=i(_=lr())),f=0;f<=g;++f){if(!(f<g&&a(h=u[f],f,u))===y)if(y=!y)p=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=f-1;m>=p;--m)s.point(x[m],b[m]);s.lineEnd(),s.areaEnd()}y&&(x[f]=+e(h,f,u),b[f]=+r(h,f,u),s.point(t?+t(h,f,u):x[f],n?+n(h,f,u):b[f]))}if(_)return s=null,_+""||null}function c(){return ca().defined(a).curve(i).context(o)}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Oe(+u),t=null,l):e},l.x0=function(u){return arguments.length?(e=typeof u=="function"?u:Oe(+u),l):e},l.x1=function(u){return arguments.length?(t=u==null?null:typeof u=="function"?u:Oe(+u),l):t},l.y=function(u){return arguments.length?(r=typeof u=="function"?u:Oe(+u),n=null,l):r},l.y0=function(u){return arguments.length?(r=typeof u=="function"?u:Oe(+u),l):r},l.y1=function(u){return arguments.length?(n=u==null?null:typeof u=="function"?u:Oe(+u),l):n},l.lineX0=l.lineY0=function(){return c().x(e).y(r)},l.lineY1=function(){return c().x(e).y(n)},l.lineX1=function(){return c().x(t).y(r)},l.defined=function(u){return arguments.length?(a=typeof u=="function"?u:Oe(!!u),l):a},l.curve=function(u){return arguments.length?(i=u,o!=null&&(s=i(o)),l):i},l.context=function(u){return arguments.length?(u==null?o=s=null:s=i(o=u),l):o},l}const Qr=Math.pow(2,-52),rt=new Uint32Array(512);class Ct{static from(t,r=al,n=ol){const a=t.length,o=new Float64Array(a*2);for(let i=0;i<a;i++){const s=t[i];o[2*i]=r(s),o[2*i+1]=n(s)}return new Ct(o)}constructor(t){const r=t.length>>1;if(r>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*r-5,0);this._triangles=new Uint32Array(n*3),this._halfedges=new Int32Array(n*3),this._hashSize=Math.ceil(Math.sqrt(r)),this._hullPrev=new Uint32Array(r),this._hullNext=new Uint32Array(r),this._hullTri=new Uint32Array(r),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(r),this._dists=new Float64Array(r),this.update()}update(){const{coords:t,_hullPrev:r,_hullNext:n,_hullTri:a,_hullHash:o}=this,i=t.length>>1;let s=1/0,l=1/0,c=-1/0,u=-1/0;for(let v=0;v<i;v++){const P=t[2*v],k=t[2*v+1];P<s&&(s=P),k<l&&(l=k),P>c&&(c=P),k>u&&(u=k),this._ids[v]=v}const f=(s+c)/2,p=(l+u)/2;let m=1/0,g,h,y;for(let v=0;v<i;v++){const P=zt(f,p,t[2*v],t[2*v+1]);P<m&&(g=v,m=P)}const _=t[2*g],x=t[2*g+1];m=1/0;for(let v=0;v<i;v++){if(v===g)continue;const P=zt(_,x,t[2*v],t[2*v+1]);P<m&&P>0&&(h=v,m=P)}let b=t[2*h],D=t[2*h+1],S=1/0;for(let v=0;v<i;v++){if(v===g||v===h)continue;const P=rl(_,x,b,D,t[2*v],t[2*v+1]);P<S&&(y=v,S=P)}let $=t[2*y],C=t[2*y+1];if(S===1/0){for(let k=0;k<i;k++)this._dists[k]=t[2*k]-t[0]||t[2*k+1]-t[1];Ve(this._ids,this._dists,0,i-1);const v=new Uint32Array(i);let P=0;for(let k=0,T=-1/0;k<i;k++){const E=this._ids[k];this._dists[E]>T&&(v[P++]=E,T=this._dists[E])}this.hull=v.subarray(0,P),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(nt(_,x,b,D,$,C)){const v=h,P=b,k=D;h=y,b=$,D=C,y=v,$=P,C=k}const w=nl(_,x,b,D,$,C);this._cx=w.x,this._cy=w.y;for(let v=0;v<i;v++)this._dists[v]=zt(t[2*v],t[2*v+1],w.x,w.y);Ve(this._ids,this._dists,0,i-1),this._hullStart=g;let M=3;n[g]=r[y]=h,n[h]=r[g]=y,n[y]=r[h]=g,a[g]=0,a[h]=1,a[y]=2,o.fill(-1),o[this._hashKey(_,x)]=g,o[this._hashKey(b,D)]=h,o[this._hashKey($,C)]=y,this.trianglesLen=0,this._addTriangle(g,h,y,-1,-1,-1);for(let v=0,P,k;v<this._ids.length;v++){const T=this._ids[v],E=t[2*T],q=t[2*T+1];if(v>0&&Math.abs(E-P)<=Qr&&Math.abs(q-k)<=Qr||(P=E,k=q,T===g||T===h||T===y))continue;let X=0;for(let H=0,ue=this._hashKey(E,q);H<this._hashSize&&(X=o[(ue+H)%this._hashSize],!(X!==-1&&X!==n[X]));H++);X=r[X];let I=X,F;for(;F=n[I],!nt(E,q,t[2*I],t[2*I+1],t[2*F],t[2*F+1]);)if(I=F,I===X){I=-1;break}if(I===-1)continue;let U=this._addTriangle(I,T,n[I],-1,-1,a[I]);a[T]=this._legalize(U+2),a[I]=U,M++;let B=n[I];for(;F=n[B],nt(E,q,t[2*B],t[2*B+1],t[2*F],t[2*F+1]);)U=this._addTriangle(B,T,F,a[T],-1,a[B]),a[T]=this._legalize(U+2),n[B]=B,M--,B=F;if(I===X)for(;F=r[I],nt(E,q,t[2*F],t[2*F+1],t[2*I],t[2*I+1]);)U=this._addTriangle(F,T,I,-1,a[I],a[F]),this._legalize(U+2),a[F]=U,n[I]=I,M--,I=F;this._hullStart=r[T]=I,n[I]=r[B]=T,n[T]=B,o[this._hashKey(E,q)]=T,o[this._hashKey(t[2*I],t[2*I+1])]=I}this.hull=new Uint32Array(M);for(let v=0,P=this._hullStart;v<M;v++)this.hull[v]=P,P=n[P];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,r){return Math.floor(el(t-this._cx,r-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:r,_halfedges:n,coords:a}=this;let o=0,i=0;for(;;){const s=n[t],l=t-t%3;if(i=l+(t+2)%3,s===-1){if(o===0)break;t=rt[--o];continue}const c=s-s%3,u=l+(t+1)%3,f=c+(s+2)%3,p=r[i],m=r[t],g=r[u],h=r[f];if(tl(a[2*p],a[2*p+1],a[2*m],a[2*m+1],a[2*g],a[2*g+1],a[2*h],a[2*h+1])){r[t]=h,r[s]=p;const _=n[f];if(_===-1){let b=this._hullStart;do{if(this._hullTri[b]===f){this._hullTri[b]=t;break}b=this._hullPrev[b]}while(b!==this._hullStart)}this._link(t,_),this._link(s,n[i]),this._link(i,f);const x=c+(s+1)%3;o<rt.length&&(rt[o++]=x)}else{if(o===0)break;t=rt[--o]}}return i}_link(t,r){this._halfedges[t]=r,r!==-1&&(this._halfedges[r]=t)}_addTriangle(t,r,n,a,o,i){const s=this.trianglesLen;return this._triangles[s]=t,this._triangles[s+1]=r,this._triangles[s+2]=n,this._link(s,a),this._link(s+1,o),this._link(s+2,i),this.trianglesLen+=3,s}}function el(e,t){const r=e/(Math.abs(e)+Math.abs(t));return(t>0?3-r:1+r)/4}function zt(e,t,r,n){const a=e-r,o=t-n;return a*a+o*o}function At(e,t,r,n,a,o){const i=(n-t)*(a-e),s=(r-e)*(o-t);return Math.abs(i-s)>=33306690738754716e-32*Math.abs(i+s)?i-s:0}function nt(e,t,r,n,a,o){return(At(a,o,e,t,r,n)||At(e,t,r,n,a,o)||At(r,n,a,o,e,t))<0}function tl(e,t,r,n,a,o,i,s){const l=e-i,c=t-s,u=r-i,f=n-s,p=a-i,m=o-s,g=l*l+c*c,h=u*u+f*f,y=p*p+m*m;return l*(f*y-h*m)-c*(u*y-h*p)+g*(u*m-f*p)<0}function rl(e,t,r,n,a,o){const i=r-e,s=n-t,l=a-e,c=o-t,u=i*i+s*s,f=l*l+c*c,p=.5/(i*c-s*l),m=(c*u-s*f)*p,g=(i*f-l*u)*p;return m*m+g*g}function nl(e,t,r,n,a,o){const i=r-e,s=n-t,l=a-e,c=o-t,u=i*i+s*s,f=l*l+c*c,p=.5/(i*c-s*l),m=e+(c*u-s*f)*p,g=t+(i*f-l*u)*p;return{x:m,y:g}}function Ve(e,t,r,n){if(n-r<=20)for(let a=r+1;a<=n;a++){const o=e[a],i=t[o];let s=a-1;for(;s>=r&&t[e[s]]>i;)e[s+1]=e[s--];e[s+1]=o}else{const a=r+n>>1;let o=r+1,i=n;Ue(e,a,o),t[e[r]]>t[e[n]]&&Ue(e,r,n),t[e[o]]>t[e[n]]&&Ue(e,o,n),t[e[r]]>t[e[o]]&&Ue(e,r,o);const s=e[o],l=t[s];for(;;){do o++;while(t[e[o]]<l);do i--;while(t[e[i]]>l);if(i<o)break;Ue(e,o,i)}e[r+1]=e[i],e[i]=s,n-o+1>=i-r?(Ve(e,t,o,n),Ve(e,t,r,i-1)):(Ve(e,t,r,i-1),Ve(e,t,o,n))}}function Ue(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function al(e){return e[0]}function ol(e){return e[1]}const Jr=1e-6;class ze{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,r){this._+=`L${this._x1=+t},${this._y1=+r}`}arc(t,r,n){t=+t,r=+r,n=+n;const a=t+n,o=r;if(n<0)throw new Error("negative radius");this._x1===null?this._+=`M${a},${o}`:(Math.abs(this._x1-a)>Jr||Math.abs(this._y1-o)>Jr)&&(this._+="L"+a+","+o),n&&(this._+=`A${n},${n},0,1,1,${t-n},${r}A${n},${n},0,1,1,${this._x1=a},${this._y1=o}`)}rect(t,r,n,a){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${+n}v${+a}h${-n}Z`}value(){return this._||null}}class Ut{constructor(){this._=[]}moveTo(t,r){this._.push([t,r])}closePath(){this._.push(this._[0].slice())}lineTo(t,r){this._.push([t,r])}value(){return this._.length?this._:null}}class sl{constructor(t,[r,n,a,o]=[0,0,960,500]){if(!((a=+a)>=(r=+r))||!((o=+o)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=a,this.xmin=r,this.ymax=o,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:r,triangles:n},vectors:a}=this,o=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let m=0,g=0,h=n.length,y,_;m<h;m+=3,g+=2){const x=n[m]*2,b=n[m+1]*2,D=n[m+2]*2,S=t[x],$=t[x+1],C=t[b],w=t[b+1],M=t[D],v=t[D+1],P=C-S,k=w-$,T=M-S,E=v-$,q=P*P+k*k,X=T*T+E*E,I=(P*E-k*T)*2;if(!I)y=(S+M)/2-1e8*E,_=($+v)/2+1e8*T;else if(Math.abs(I)<1e-8)y=(S+M)/2,_=($+v)/2;else{const F=1/I;y=S+(E*q-k*X)*F,_=$+(P*X-T*q)*F}o[g]=y,o[g+1]=_}let i=r[r.length-1],s,l=i*4,c,u=t[2*i],f,p=t[2*i+1];a.fill(0);for(let m=0;m<r.length;++m)i=r[m],s=l,c=u,f=p,l=i*4,u=t[2*i],p=t[2*i+1],a[s+2]=a[l]=f-p,a[s+3]=a[l+1]=u-c}render(t){const r=t==null?t=new ze:void 0,{delaunay:{halfedges:n,inedges:a,hull:o},circumcenters:i,vectors:s}=this;if(o.length<=1)return null;for(let u=0,f=n.length;u<f;++u){const p=n[u];if(p<u)continue;const m=Math.floor(u/3)*2,g=Math.floor(p/3)*2,h=i[m],y=i[m+1],_=i[g],x=i[g+1];this._renderSegment(h,y,_,x,t)}let l,c=o[o.length-1];for(let u=0;u<o.length;++u){l=c,c=o[u];const f=Math.floor(a[c]/3)*2,p=i[f],m=i[f+1],g=l*4,h=this._project(p,m,s[g+2],s[g+3]);h&&this._renderSegment(p,m,h[0],h[1],t)}return r&&r.value()}renderBounds(t){const r=t==null?t=new ze:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),r&&r.value()}renderCell(t,r){const n=r==null?r=new ze:void 0,a=this._clip(t);if(a===null||!a.length)return;r.moveTo(a[0],a[1]);let o=a.length;for(;a[0]===a[o-2]&&a[1]===a[o-1]&&o>1;)o-=2;for(let i=2;i<o;i+=2)(a[i]!==a[i-2]||a[i+1]!==a[i-1])&&r.lineTo(a[i],a[i+1]);return r.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let r=0,n=t.length/2;r<n;++r){const a=this.cellPolygon(r);a&&(a.index=r,yield a)}}cellPolygon(t){const r=new Ut;return this.renderCell(t,r),r.value()}_renderSegment(t,r,n,a,o){let i;const s=this._regioncode(t,r),l=this._regioncode(n,a);s===0&&l===0?(o.moveTo(t,r),o.lineTo(n,a)):(i=this._clipSegment(t,r,n,a,s,l))&&(o.moveTo(i[0],i[1]),o.lineTo(i[2],i[3]))}contains(t,r,n){return r=+r,r!==r||(n=+n,n!==n)?!1:this.delaunay._step(t,r,n)===t}*neighbors(t){const r=this._clip(t);if(r)for(const n of this.delaunay.neighbors(t)){const a=this._clip(n);if(a){e:for(let o=0,i=r.length;o<i;o+=2)for(let s=0,l=a.length;s<l;s+=2)if(r[o]==a[s]&&r[o+1]==a[s+1]&&r[(o+2)%i]==a[(s+l-2)%l]&&r[(o+3)%i]==a[(s+l-1)%l]){yield n;break e}}}}_cell(t){const{circumcenters:r,delaunay:{inedges:n,halfedges:a,triangles:o}}=this,i=n[t];if(i===-1)return null;const s=[];let l=i;do{const c=Math.floor(l/3);if(s.push(r[c*2],r[c*2+1]),l=l%3===2?l-2:l+1,o[l]!==t)break;l=a[l]}while(l!==i&&l!==-1);return s}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const r=this._cell(t);if(r===null)return null;const{vectors:n}=this,a=t*4;return n[a]||n[a+1]?this._clipInfinite(t,r,n[a],n[a+1],n[a+2],n[a+3]):this._clipFinite(t,r)}_clipFinite(t,r){const n=r.length;let a=null,o,i,s=r[n-2],l=r[n-1],c,u=this._regioncode(s,l),f,p;for(let m=0;m<n;m+=2)if(o=s,i=l,s=r[m],l=r[m+1],c=u,u=this._regioncode(s,l),c===0&&u===0)f=p,p=0,a?a.push(s,l):a=[s,l];else{let g,h,y,_,x;if(c===0){if((g=this._clipSegment(o,i,s,l,c,u))===null)continue;[h,y,_,x]=g}else{if((g=this._clipSegment(s,l,o,i,u,c))===null)continue;[_,x,h,y]=g,f=p,p=this._edgecode(h,y),f&&p&&this._edge(t,f,p,a,a.length),a?a.push(h,y):a=[h,y]}f=p,p=this._edgecode(_,x),f&&p&&this._edge(t,f,p,a,a.length),a?a.push(_,x):a=[_,x]}if(a)f=p,p=this._edgecode(a[0],a[1]),f&&p&&this._edge(t,f,p,a,a.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return a}_clipSegment(t,r,n,a,o,i){for(;;){if(o===0&&i===0)return[t,r,n,a];if(o&i)return null;let s,l,c=o||i;c&8?(s=t+(n-t)*(this.ymax-r)/(a-r),l=this.ymax):c&4?(s=t+(n-t)*(this.ymin-r)/(a-r),l=this.ymin):c&2?(l=r+(a-r)*(this.xmax-t)/(n-t),s=this.xmax):(l=r+(a-r)*(this.xmin-t)/(n-t),s=this.xmin),o?(t=s,r=l,o=this._regioncode(t,r)):(n=s,a=l,i=this._regioncode(n,a))}}_clipInfinite(t,r,n,a,o,i){let s=Array.from(r),l;if((l=this._project(s[0],s[1],n,a))&&s.unshift(l[0],l[1]),(l=this._project(s[s.length-2],s[s.length-1],o,i))&&s.push(l[0],l[1]),s=this._clipFinite(t,s))for(let c=0,u=s.length,f,p=this._edgecode(s[u-2],s[u-1]);c<u;c+=2)f=p,p=this._edgecode(s[c],s[c+1]),f&&p&&(c=this._edge(t,f,p,s,c),u=s.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(t,r,n,a,o){for(;r!==n;){let i,s;switch(r){case 5:r=4;continue;case 4:r=6,i=this.xmax,s=this.ymin;break;case 6:r=2;continue;case 2:r=10,i=this.xmax,s=this.ymax;break;case 10:r=8;continue;case 8:r=9,i=this.xmin,s=this.ymax;break;case 9:r=1;continue;case 1:r=5,i=this.xmin,s=this.ymin;break}(a[o]!==i||a[o+1]!==s)&&this.contains(t,i,s)&&(a.splice(o,0,i,s),o+=2)}if(a.length>4)for(let i=0;i<a.length;i+=2){const s=(i+2)%a.length,l=(i+4)%a.length;(a[i]===a[s]&&a[s]===a[l]||a[i+1]===a[s+1]&&a[s+1]===a[l+1])&&(a.splice(s,2),i-=2)}return o}_project(t,r,n,a){let o=1/0,i,s,l;if(a<0){if(r<=this.ymin)return null;(i=(this.ymin-r)/a)<o&&(l=this.ymin,s=t+(o=i)*n)}else if(a>0){if(r>=this.ymax)return null;(i=(this.ymax-r)/a)<o&&(l=this.ymax,s=t+(o=i)*n)}if(n>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/n)<o&&(s=this.xmax,l=r+(o=i)*a)}else if(n<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/n)<o&&(s=this.xmin,l=r+(o=i)*a)}return[s,l]}_edgecode(t,r){return(t===this.xmin?1:t===this.xmax?2:0)|(r===this.ymin?4:r===this.ymax?8:0)}_regioncode(t,r){return(t<this.xmin?1:t>this.xmax?2:0)|(r<this.ymin?4:r>this.ymax?8:0)}}const il=2*Math.PI,qe=Math.pow;function ll(e){return e[0]}function cl(e){return e[1]}function ul(e){const{triangles:t,coords:r}=e;for(let n=0;n<t.length;n+=3){const a=2*t[n],o=2*t[n+1],i=2*t[n+2];if((r[i]-r[a])*(r[o+1]-r[a+1])-(r[o]-r[a])*(r[i+1]-r[a+1])>1e-10)return!1}return!0}function dl(e,t,r){return[e+Math.sin(e+t)*r,t+Math.cos(e-t)*r]}class cr{static from(t,r=ll,n=cl,a){return new cr("length"in t?fl(t,r,n,a):Float64Array.from(pl(t,r,n,a)))}constructor(t){this._delaunator=new Ct(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,r=this.points;if(t.hull&&t.hull.length>2&&ul(t)){this.collinear=Int32Array.from({length:r.length/2},(p,m)=>m).sort((p,m)=>r[2*p]-r[2*m]||r[2*p+1]-r[2*m+1]);const l=this.collinear[0],c=this.collinear[this.collinear.length-1],u=[r[2*l],r[2*l+1],r[2*c],r[2*c+1]],f=1e-8*Math.hypot(u[3]-u[1],u[2]-u[0]);for(let p=0,m=r.length/2;p<m;++p){const g=dl(r[2*p],r[2*p+1],f);r[2*p]=g[0],r[2*p+1]=g[1]}this._delaunator=new Ct(r)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,a=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,i=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let l=0,c=n.length;l<c;++l){const u=o[l%3===2?l-2:l+1];(n[l]===-1||i[u]===-1)&&(i[u]=l)}for(let l=0,c=a.length;l<c;++l)s[a[l]]=l;a.length<=2&&a.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=a[0],this.triangles[1]=a[1],this.triangles[2]=a[1],i[a[0]]=1,a.length===2&&(i[a[1]]=0))}voronoi(t){return new sl(this,t)}*neighbors(t){const{inedges:r,hull:n,_hullIndex:a,halfedges:o,triangles:i,collinear:s}=this;if(s){const f=s.indexOf(t);f>0&&(yield s[f-1]),f<s.length-1&&(yield s[f+1]);return}const l=r[t];if(l===-1)return;let c=l,u=-1;do{if(yield u=i[c],c=c%3===2?c-2:c+1,i[c]!==t)return;if(c=o[c],c===-1){const f=n[(a[t]+1)%n.length];f!==u&&(yield f);return}}while(c!==l)}find(t,r,n=0){if(t=+t,t!==t||(r=+r,r!==r))return-1;const a=n;let o;for(;(o=this._step(n,t,r))>=0&&o!==n&&o!==a;)n=o;return o}_step(t,r,n){const{inedges:a,hull:o,_hullIndex:i,halfedges:s,triangles:l,points:c}=this;if(a[t]===-1||!c.length)return(t+1)%(c.length>>1);let u=t,f=qe(r-c[t*2],2)+qe(n-c[t*2+1],2);const p=a[t];let m=p;do{let g=l[m];const h=qe(r-c[g*2],2)+qe(n-c[g*2+1],2);if(h<f&&(f=h,u=g),m=m%3===2?m-2:m+1,l[m]!==t)break;if(m=s[m],m===-1){if(m=o[(i[t]+1)%o.length],m!==g&&qe(r-c[m*2],2)+qe(n-c[m*2+1],2)<f)return m;break}}while(m!==p);return u}render(t){const r=t==null?t=new ze:void 0,{points:n,halfedges:a,triangles:o}=this;for(let i=0,s=a.length;i<s;++i){const l=a[i];if(l<i)continue;const c=o[i]*2,u=o[l]*2;t.moveTo(n[c],n[c+1]),t.lineTo(n[u],n[u+1])}return this.renderHull(t),r&&r.value()}renderPoints(t,r=2){const n=t==null?t=new ze:void 0,{points:a}=this;for(let o=0,i=a.length;o<i;o+=2){const s=a[o],l=a[o+1];t.moveTo(s+r,l),t.arc(s,l,r,0,il)}return n&&n.value()}renderHull(t){const r=t==null?t=new ze:void 0,{hull:n,points:a}=this,o=n[0]*2,i=n.length;t.moveTo(a[o],a[o+1]);for(let s=1;s<i;++s){const l=2*n[s];t.lineTo(a[l],a[l+1])}return t.closePath(),r&&r.value()}hullPolygon(){const t=new Ut;return this.renderHull(t),t.value()}renderTriangle(t,r){const n=r==null?r=new ze:void 0,{points:a,triangles:o}=this,i=o[t*=3]*2,s=o[t+1]*2,l=o[t+2]*2;return r.moveTo(a[i],a[i+1]),r.lineTo(a[s],a[s+1]),r.lineTo(a[l],a[l+1]),r.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let r=0,n=t.length/3;r<n;++r)yield this.trianglePolygon(r)}trianglePolygon(t){const r=new Ut;return this.renderTriangle(t,r),r.value()}}function fl(e,t,r,n){const a=e.length,o=new Float64Array(a*2);for(let i=0;i<a;++i){const s=e[i];o[i*2]=t.call(n,s,i,e),o[i*2+1]=r.call(n,s,i,e)}return o}function*pl(e,t,r,n){let a=0;for(const o of e)yield t.call(n,o,a,e),yield r.call(n,o,a,e),++a}var en=function(e){return typeof e=="function"?e:function(t){return t[e]}},hl=function(e){var t=e.points,r=e.x,n=r===void 0?"x":r,a=e.y,o=a===void 0?"y":a,i=en(n),s=en(o);return t.map(function(l){return[i(l),s(l)]})},ml=function(e){var t=e.points,r=e.width,n=e.height,a=e.debug,o=cr.from(t),i=a?o.voronoi([0,0,r,n]):void 0;return{delaunay:o,voronoi:i}},ua=function(e){var t=e.points,r=e.x,n=e.y,a=e.width,o=e.height,i=e.debug,s=O.exports.useMemo(function(){return hl({points:t,x:r,y:n})},[t,r,n]);return O.exports.useMemo(function(){return ml({points:s,width:a,height:o,debug:i})},[s,a,o,i])},gl=function(e){var t=e.nodes,r=e.width,n=e.height,a=e.x,o=e.y,i=e.onMouseEnter,s=e.onMouseMove,l=e.onMouseLeave,c=e.onClick,u=e.debug,f=O.exports.useRef(null),p=O.exports.useState(null),m=p[0],g=p[1],h=ua({points:t,x:a,y:o,width:r,height:n,debug:u}),y=h.delaunay,_=h.voronoi,x=O.exports.useMemo(function(){if(u&&_)return _.render()},[u,_]),b=O.exports.useCallback(function(w){if(!f.current)return[null,null];var M=on(f.current,w),v=M[0],P=M[1],k=y.find(v,P);return[k,k!==void 0?t[k]:null]},[f,y]),D=O.exports.useCallback(function(w){var M=b(w),v=M[0],P=M[1];g(v),P&&(i==null||i(P,w))},[b,g,i]),S=O.exports.useCallback(function(w){var M=b(w),v=M[0],P=M[1];g(v),P&&(s==null||s(P,w))},[b,g,s]),$=O.exports.useCallback(function(w){if(g(null),l){var M=void 0;m!==null&&(M=t[m]),M&&l(M,w)}},[g,m,l,t]),C=O.exports.useCallback(function(w){var M=b(w),v=M[0],P=M[1];g(v),P&&(c==null||c(P,w))},[b,g,c]);return $e("g",{ref:f,children:[u&&_&&$e(Ra,{children:[j("path",{d:x,stroke:"red",strokeWidth:1,opacity:.75}),m!==null&&j("path",{fill:"pink",opacity:.35,d:_.renderCell(m)})]}),j("rect",{width:r,height:n,fill:"red",opacity:0,style:{cursor:"auto"},onMouseEnter:D,onMouseMove:S,onMouseLeave:$,onClick:C})]})},yl=function(e,t){e.save(),e.globalAlpha=.75,e.beginPath(),t.render(e),e.strokeStyle="red",e.lineWidth=1,e.stroke(),e.restore()},vl=function(e,t,r){e.save(),e.globalAlpha=.35,e.beginPath(),t.renderCell(r,e),e.fillStyle="red",e.fill(),e.restore()};function xe(){return xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xe.apply(this,arguments)}var da=function(e){var t=e.point;return j(Ba,{id:$e("span",{children:["x: ",j("strong",{children:t.data.xFormatted}),", y:"," ",j("strong",{children:t.data.yFormatted})]}),enableChip:!0,color:t.serieColor})};da.propTypes={point:d.exports.object.isRequired};var bl=O.exports.memo(da),fa=function(e){var t=e.slice,r=e.axis,n=Ze(),a=r==="x"?"y":"x";return j(qa,{rows:t.points.map(function(o){return[j(Va,{color:o.serieColor,style:n.tooltip.chip},"chip"),o.serieId,j("span",{style:n.tooltip.tableCellValue,children:o.data[a+"Formatted"]},"value")]})})};fa.propTypes={slice:d.exports.object.isRequired,axis:d.exports.oneOf(["x","y"]).isRequired};var _l=O.exports.memo(fa),pa={data:d.exports.arrayOf(d.exports.shape({id:d.exports.oneOfType([d.exports.string,d.exports.number]).isRequired,data:d.exports.arrayOf(d.exports.shape({x:d.exports.oneOfType([d.exports.number,d.exports.string,d.exports.instanceOf(Date)]),y:d.exports.oneOfType([d.exports.number,d.exports.string,d.exports.instanceOf(Date)])})).isRequired})).isRequired,xScale:d.exports.object.isRequired,xFormat:d.exports.oneOfType([d.exports.func,d.exports.string]),yScale:d.exports.object.isRequired,yFormat:d.exports.oneOfType([d.exports.func,d.exports.string]),layers:d.exports.arrayOf(d.exports.oneOfType([d.exports.oneOf(["grid","markers","axes","areas","crosshair","lines","slices","points","mesh","legends"]),d.exports.func])).isRequired,curve:Ya.isRequired,axisTop:et,axisRight:et,axisBottom:et,axisLeft:et,enableGridX:d.exports.bool.isRequired,enableGridY:d.exports.bool.isRequired,gridXValues:d.exports.oneOfType([d.exports.number,d.exports.arrayOf(d.exports.oneOfType([d.exports.number,d.exports.string,d.exports.instanceOf(Date)]))]),gridYValues:d.exports.oneOfType([d.exports.number,d.exports.arrayOf(d.exports.oneOfType([d.exports.number,d.exports.string,d.exports.instanceOf(Date)]))]),enablePoints:d.exports.bool.isRequired,pointSymbol:d.exports.func,pointSize:d.exports.number.isRequired,pointColor:d.exports.any.isRequired,pointBorderWidth:d.exports.number.isRequired,pointBorderColor:d.exports.any.isRequired,enablePointLabel:d.exports.bool.isRequired,pointLabel:d.exports.oneOfType([d.exports.string,d.exports.func]).isRequired,markers:d.exports.arrayOf(d.exports.shape({axis:d.exports.oneOf(["x","y"]).isRequired,value:d.exports.oneOfType([d.exports.number,d.exports.string,d.exports.instanceOf(Date)]).isRequired,style:d.exports.object})),colors:za.isRequired,enableArea:d.exports.bool.isRequired,areaOpacity:d.exports.number.isRequired,areaBlendMode:ar.isRequired,areaBaselineValue:d.exports.oneOfType([d.exports.number,d.exports.string,d.exports.instanceOf(Date)]).isRequired,lineWidth:d.exports.number.isRequired,legends:d.exports.arrayOf(d.exports.shape(Aa)).isRequired,isInteractive:d.exports.bool.isRequired,debugMesh:d.exports.bool.isRequired,tooltip:d.exports.oneOfType([d.exports.func,d.exports.object]).isRequired,enableSlices:d.exports.oneOf(["x","y",!1]).isRequired,debugSlices:d.exports.bool.isRequired,sliceTooltip:d.exports.oneOfType([d.exports.func,d.exports.object]).isRequired,enableCrosshair:d.exports.bool.isRequired,crosshairType:d.exports.string.isRequired},xl=xe({},pa,{enablePointLabel:d.exports.bool.isRequired,role:d.exports.string.isRequired,useMesh:d.exports.bool.isRequired},Wa,Ha),wl=xe({pixelRatio:d.exports.number.isRequired},pa),ha={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:bl,enableSlices:!1,debugSlices:!1,sliceTooltip:_l,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},Re=xe({},ha,{enablePointLabel:!1,useMesh:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img"}),Ol=xe({},ha,{pixelRatio:typeof window<"u"&&window.devicePixelRatio||1}),Pl=function(e){var t=e.curve;return O.exports.useMemo(function(){return ca().defined(function(r){return r.x!==null&&r.y!==null}).x(function(r){return r.x}).y(function(r){return r.y}).curve(fn(t))},[t])},Dl=function(e){var t=e.curve,r=e.yScale,n=e.areaBaselineValue;return O.exports.useMemo(function(){return Ji().defined(function(a){return a.x!==null&&a.y!==null}).x(function(a){return a.x}).y1(function(a){return a.y}).curve(fn(t)).y0(r(n))},[t,r,n])},Sl=function(e){var t=e.enableSlices,r=e.points,n=e.width,a=e.height;return O.exports.useMemo(function(){if(t===!1)return[];if(t==="x"){var o=new Map;return r.forEach(function(s){s.data.x!==null&&s.data.y!==null&&(o.has(s.x)?o.get(s.x).push(s):o.set(s.x,[s]))}),Array.from(o.entries()).sort(function(s,l){return s[0]-l[0]}).map(function(s,l,c){var u,f=s[0],p=s[1],m=c[l-1],g=c[l+1];return{id:f,x0:u=m?f-(f-m[0])/2:f,x:f,y0:0,y:0,width:g?f-u+(g[0]-f)/2:n-u,height:a,points:p.reverse()}})}if(t==="y"){var i=new Map;return r.forEach(function(s){s.data.x!==null&&s.data.y!==null&&(i.has(s.y)?i.get(s.y).push(s):i.set(s.y,[s]))}),Array.from(i.entries()).sort(function(s,l){return s[0]-l[0]}).map(function(s,l,c){var u,f,p=s[0],m=s[1],g=c[l-1],h=c[l+1];return u=g?p-(p-g[0])/2:p,f=h?p-u+(h[0]-p)/2:a-u,{id:p,x0:0,x:0,y0:u,y:p,width:n,height:f,points:m.reverse()}})}},[t,r])},ma=function(e){var t=e.data,r=e.xScale,n=r===void 0?Re.xScale:r,a=e.xFormat,o=e.yScale,i=o===void 0?Re.yScale:o,s=e.yFormat,l=e.width,c=e.height,u=e.colors,f=u===void 0?Re.colors:u,p=e.curve,m=p===void 0?Re.curve:p,g=e.areaBaselineValue,h=g===void 0?Re.areaBaselineValue:g,y=e.pointColor,_=y===void 0?Re.pointColor:y,x=e.pointBorderColor,b=x===void 0?Re.pointBorderColor:x,D=e.enableSlices,S=D===void 0?Re.enableSlicesTooltip:D,$=hr(a),C=hr(s),w=so(f,"id"),M=Ze(),v=ct(_,M),P=ct(b,M),k=O.exports.useState([]),T=k[0],E=k[1],q=O.exports.useMemo(function(){return io(t.filter(function(V){return T.indexOf(V.id)===-1}),n,i,l,c)},[t,T,n,i,l,c]),X=q.xScale,I=q.yScale,F=q.series,U=O.exports.useMemo(function(){var V=t.map(function(z){return{id:z.id,label:z.id,color:w(z)}}),re=V.map(function(z){return xe({},F.find(function(se){return se.id===z.id}),{color:z.color})}).filter(function(z){return Boolean(z.id)});return{legendData:V.map(function(z){return xe({},z,{hidden:!re.find(function(se){return se.id===z.id})})}).reverse(),series:re}},[t,F,w]),B=U.legendData,H=U.series,ue=O.exports.useCallback(function(V){E(function(re){return re.indexOf(V)>-1?re.filter(function(z){return z!==V}):[].concat(re,[V])})},[]),oe=function(V){var re=V.series,z=V.getPointColor,se=V.getPointBorderColor,ne=V.formatX,te=V.formatY;return O.exports.useMemo(function(){return re.reduce(function(K,A){return[].concat(K,A.data.filter(function(G){return G.position.x!==null&&G.position.y!==null}).map(function(G,Y){var Q={id:A.id+"."+Y,index:K.length+Y,serieId:A.id,serieColor:A.color,x:G.position.x,y:G.position.y};return Q.color=z(A),Q.borderColor=se(Q),Q.data=xe({},G.data,{xFormatted:ne(G.data.x),yFormatted:te(G.data.y)}),Q}))},[])},[re,z,se,ne,te])}({series:H,getPointColor:v,getPointBorderColor:P,formatX:$,formatY:C}),le=Sl({enableSlices:S,points:oe,width:l,height:c});return{legendData:B,toggleSerie:ue,lineGenerator:Pl({curve:m}),areaGenerator:Dl({curve:m,yScale:I,areaBaselineValue:h}),getColor:w,series:H,xScale:X,yScale:I,slices:le,points:oe}},ga=function(e){var t=e.areaBlendMode,r=e.areaOpacity,n=e.color,a=e.fill,o=e.path,i=Xa(),s=i.animate,l=i.config,c=cn(o),u=Ua({color:n,config:l,immediate:!s});return j(un.path,{d:c,fill:a||u.color,fillOpacity:r,strokeWidth:0,style:{mixBlendMode:t}})};ga.propTypes={areaBlendMode:ar.isRequired,areaOpacity:d.exports.number.isRequired,color:d.exports.string,fill:d.exports.string,path:d.exports.string.isRequired};var ya=function(e){var t=e.areaGenerator,r=e.areaOpacity,n=e.areaBlendMode,a=e.lines.slice(0).reverse();return j("g",{children:a.map(function(o){return j(ga,xe({path:t(o.data.map(function(i){return i.position}))},xe({areaOpacity:r,areaBlendMode:n},o)),o.id)})})};ya.propTypes={areaGenerator:d.exports.func.isRequired,areaOpacity:d.exports.number.isRequired,areaBlendMode:ar.isRequired,lines:d.exports.arrayOf(d.exports.object).isRequired};var Cl=O.exports.memo(ya),va=function(e){var t=e.lineGenerator,r=e.points,n=e.color,a=e.thickness,o=O.exports.useMemo(function(){return t(r)},[t,r]),i=cn(o);return j(un.path,{d:i,fill:"none",strokeWidth:a,stroke:n})};va.propTypes={points:d.exports.arrayOf(d.exports.shape({x:d.exports.oneOfType([d.exports.string,d.exports.number]),y:d.exports.oneOfType([d.exports.string,d.exports.number])})),lineGenerator:d.exports.func.isRequired,color:d.exports.string.isRequired,thickness:d.exports.number.isRequired};var Ml=O.exports.memo(va),ba=function(e){var t=e.lines,r=e.lineGenerator,n=e.lineWidth;return t.slice(0).reverse().map(function(a){var o=a.id,i=a.data,s=a.color;return j(Ml,{id:o,points:i.map(function(l){return l.position}),lineGenerator:r,color:s,thickness:n},o)})};ba.propTypes={lines:d.exports.arrayOf(d.exports.shape({id:d.exports.oneOfType([d.exports.string,d.exports.number]).isRequired,color:d.exports.string.isRequired,data:d.exports.arrayOf(d.exports.shape({data:d.exports.shape({x:d.exports.oneOfType([d.exports.string,d.exports.number,d.exports.instanceOf(Date)]),y:d.exports.oneOfType([d.exports.string,d.exports.number,d.exports.instanceOf(Date)])}).isRequired,position:d.exports.shape({x:d.exports.number,y:d.exports.number}).isRequired})).isRequired})).isRequired,lineWidth:d.exports.number.isRequired,lineGenerator:d.exports.func.isRequired};var $l=O.exports.memo(ba),_a=function(e){var t=e.slice,r=e.axis,n=e.debug,a=e.tooltip,o=e.isCurrent,i=e.setCurrent,s=or(),l=s.showTooltipFromEvent,c=s.hideTooltip,u=O.exports.useCallback(function(m){l(O.exports.createElement(a,{slice:t,axis:r}),m,"right"),i(t)},[l,a,t]),f=O.exports.useCallback(function(m){l(O.exports.createElement(a,{slice:t,axis:r}),m,"right")},[l,a,t]),p=O.exports.useCallback(function(){c(),i(null)},[c]);return j("rect",{x:t.x0,y:t.y0,width:t.width,height:t.height,stroke:"red",strokeWidth:n?1:0,strokeOpacity:.75,fill:"red",fillOpacity:o&&n?.35:0,onMouseEnter:u,onMouseMove:f,onMouseLeave:p})};_a.propTypes={slice:d.exports.object.isRequired,axis:d.exports.oneOf(["x","y"]).isRequired,debug:d.exports.bool.isRequired,height:d.exports.number.isRequired,tooltip:d.exports.oneOfType([d.exports.func,d.exports.object]),isCurrent:d.exports.bool.isRequired,setCurrent:d.exports.func.isRequired};var kl=O.exports.memo(_a),xa=function(e){var t=e.slices,r=e.axis,n=e.debug,a=e.height,o=e.tooltip,i=e.current,s=e.setCurrent;return t.map(function(l){return j(kl,{slice:l,axis:r,debug:n,height:a,tooltip:o,setCurrent:s,isCurrent:i!==null&&i.id===l.id},l.id)})};xa.propTypes={slices:d.exports.arrayOf(d.exports.shape({id:d.exports.oneOfType([d.exports.number,d.exports.string,d.exports.instanceOf(Date)]).isRequired,x:d.exports.number.isRequired,y:d.exports.number.isRequired,points:d.exports.arrayOf(d.exports.object).isRequired})).isRequired,axis:d.exports.oneOf(["x","y"]).isRequired,debug:d.exports.bool.isRequired,height:d.exports.number.isRequired,tooltip:d.exports.oneOfType([d.exports.func,d.exports.object]).isRequired,current:d.exports.object,setCurrent:d.exports.func.isRequired};var Rl=O.exports.memo(xa),wa=function(e){var t=e.points,r=e.symbol,n=e.size,a=e.borderWidth,o=e.enableLabel,i=e.label,s=e.labelYOffset,l=Ze(),c=Ga(i),u=t.slice(0).reverse().map(function(f){return{id:f.id,x:f.x,y:f.y,datum:f.data,fill:f.color,stroke:f.borderColor,label:o?c(f.data):null}});return j("g",{children:u.map(function(f){return j(Ka,{x:f.x,y:f.y,datum:f.datum,symbol:r,size:n,color:f.fill,borderWidth:a,borderColor:f.stroke,label:f.label,labelYOffset:s,theme:l},f.id)})})};wa.propTypes={points:d.exports.arrayOf(d.exports.object),symbol:d.exports.func,size:d.exports.number.isRequired,color:d.exports.func.isRequired,borderWidth:d.exports.number.isRequired,borderColor:d.exports.func.isRequired,enableLabel:d.exports.bool.isRequired,label:d.exports.oneOfType([d.exports.string,d.exports.func]).isRequired,labelYOffset:d.exports.number};var Ll=O.exports.memo(wa),Oa=function(e){var t=e.points,r=e.width,n=e.height,a=e.margin,o=e.setCurrent,i=e.onMouseEnter,s=e.onMouseMove,l=e.onMouseLeave,c=e.onClick,u=e.tooltip,f=e.debug,p=or(),m=p.showTooltipAt,g=p.hideTooltip,h=O.exports.useCallback(function(b,D){m(O.exports.createElement(u,{point:b}),[b.x+a.left,b.y+a.top],"top"),o(b),i&&i(b,D)},[o,m,u,i,a]),y=O.exports.useCallback(function(b,D){m(O.exports.createElement(u,{point:b}),[b.x+a.left,b.y+a.top],"top"),o(b),s&&s(b,D)},[o,m,u,s]),_=O.exports.useCallback(function(b,D){g(),o(null),l&&l(b,D)},[g,o,l]),x=O.exports.useCallback(function(b,D){c&&c(b,D)},[c]);return j(gl,{nodes:t,width:r,height:n,onMouseEnter:h,onMouseMove:y,onMouseLeave:_,onClick:x,debug:f})};Oa.propTypes={points:d.exports.arrayOf(d.exports.object).isRequired,width:d.exports.number.isRequired,height:d.exports.number.isRequired,margin:d.exports.object.isRequired,setCurrent:d.exports.func.isRequired,onMouseEnter:d.exports.func,onMouseMove:d.exports.func,onMouseLeave:d.exports.func,onClick:d.exports.func,tooltip:d.exports.oneOfType([d.exports.func,d.exports.object]).isRequired,debug:d.exports.bool.isRequired};var Il=O.exports.memo(Oa),Zt=function(e){var t=e.data,r=e.xScale,n=e.xFormat,a=e.yScale,o=e.yFormat,i=e.layers,s=e.curve,l=e.areaBaselineValue,c=e.colors,u=e.margin,f=e.width,p=e.height,m=e.axisTop,g=e.axisRight,h=e.axisBottom,y=e.axisLeft,_=e.enableGridX,x=e.enableGridY,b=e.gridXValues,D=e.gridYValues,S=e.lineWidth,$=e.enableArea,C=e.areaOpacity,w=e.areaBlendMode,M=e.enablePoints,v=e.pointSymbol,P=e.pointSize,k=e.pointColor,T=e.pointBorderWidth,E=e.pointBorderColor,q=e.enablePointLabel,X=e.pointLabel,I=e.pointLabelYOffset,F=e.defs,U=e.fill,B=e.markers,H=e.legends,ue=e.isInteractive,oe=e.useMesh,le=e.debugMesh,V=e.onMouseEnter,re=e.onMouseMove,z=e.onMouseLeave,se=e.onClick,ne=e.tooltip,te=e.enableSlices,K=e.debugSlices,A=e.sliceTooltip,G=e.enableCrosshair,Y=e.crosshairType,Q=e.role,Z=dn(f,p,u),he=Z.margin,J=Z.innerWidth,me=Z.innerHeight,_e=Z.outerWidth,ge=Z.outerHeight,ce=ma({data:t,xScale:r,xFormat:n,yScale:a,yFormat:o,width:J,height:me,colors:c,curve:s,areaBaselineValue:l,pointColor:k,pointBorderColor:E,enableSlices:te}),be=ce.legendData,de=ce.toggleSerie,ee=ce.lineGenerator,ve=ce.areaGenerator,we=ce.series,ie=ce.xScale,R=ce.yScale,N=ce.slices,fe=ce.points,ae=Ze(),ye=ct(k,ae),Se=ct(E,ae),Fe=O.exports.useState(null),Pe=Fe[0],Ce=Fe[1],He=O.exports.useState(null),Ie=He[0],Qe=He[1],ke={grid:j(Za,{theme:ae,width:J,height:me,xScale:_?ie:null,yScale:x?R:null,xValues:b,yValues:D},"grid"),markers:j(Qa,{markers:B,width:J,height:me,xScale:ie,yScale:R,theme:ae},"markers"),axes:j(Ja,{xScale:ie,yScale:R,width:J,height:me,theme:ae,top:m,right:g,bottom:h,left:y},"axes"),areas:null,lines:j($l,{lines:we,lineGenerator:ee,lineWidth:S},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:H.map(function(Me,Ge){return j(eo,xe({},Me,{containerWidth:J,containerHeight:me,data:Me.data||be,theme:ae,toggleSerie:Me.toggleSerie?de:void 0}),"legend."+Ge)})},Je=to(F,we,U);return $&&(ke.areas=j(Cl,{areaGenerator:ve,areaOpacity:C,areaBlendMode:w,lines:we},"areas")),ue&&te!==!1&&(ke.slices=j(Rl,{slices:N,axis:te,debug:K,height:me,tooltip:A,current:Ie,setCurrent:Qe},"slices")),M&&(ke.points=j(Ll,{points:fe,symbol:v,size:P,color:ye,borderWidth:T,borderColor:Se,enableLabel:q,label:X,labelYOffset:I},"points")),ue&&G&&(Pe!==null&&(ke.crosshair=j(fr,{width:J,height:me,x:Pe.x,y:Pe.y,type:Y},"crosshair")),Ie!==null&&(ke.crosshair=j(fr,{width:J,height:me,x:Ie.x,y:Ie.y,type:te},"crosshair"))),ue&&oe&&te===!1&&(ke.mesh=j(Il,{points:fe,width:J,height:me,margin:he,current:Pe,setCurrent:Ce,onMouseEnter:V,onMouseMove:re,onMouseLeave:z,onClick:se,tooltip:ne,debug:le},"mesh")),j(ro,{defs:Je,width:_e,height:ge,margin:he,role:Q,children:i.map(function(Me,Ge){return typeof Me=="function"?j(O.exports.Fragment,{children:Me(xe({},e,{innerWidth:J,innerHeight:me,series:we,slices:N,points:fe,xScale:ie,yScale:R,lineGenerator:ee,areaGenerator:ve,currentPoint:Pe,setCurrentPoint:Ce,currentSlice:Ie,setCurrentSlice:Qe}))},Ge):ke[Me]})})};Zt.propTypes=xl,Zt.defaultProps=Re;var El=sn(Zt),Tl=function(e){return j(ln,{children:function(t){var r=t.width,n=t.height;return j(El,xe({width:r,height:n},e))}})},Qt=function(e){var t=e.width,r=e.height,n=e.margin,a=e.pixelRatio,o=e.data,i=e.xScale,s=e.xFormat,l=e.yScale,c=e.yFormat,u=e.curve,f=e.layers,p=e.colors,m=e.lineWidth,g=e.enableArea,h=e.areaBaselineValue,y=e.areaOpacity,_=e.enablePoints,x=e.pointSize,b=e.pointColor,D=e.pointBorderWidth,S=e.pointBorderColor,$=e.enableGridX,C=e.gridXValues,w=e.enableGridY,M=e.gridYValues,v=e.axisTop,P=e.axisRight,k=e.axisBottom,T=e.axisLeft,E=e.legends,q=e.isInteractive,X=e.debugMesh,I=e.onMouseLeave,F=e.onClick,U=e.tooltip,B=e.canvasRef,H=O.exports.useRef(null),ue=dn(t,r,n),oe=ue.margin,le=ue.innerWidth,V=ue.innerHeight,re=ue.outerWidth,z=ue.outerHeight,se=Ze(),ne=O.exports.useState(null),te=ne[0],K=ne[1],A=ma({data:o,xScale:i,xFormat:s,yScale:l,yFormat:c,width:le,height:V,colors:p,curve:u,areaBaselineValue:h,pointColor:b,pointBorderColor:S}),G=A.lineGenerator,Y=A.areaGenerator,Q=A.series,Z=A.xScale,he=A.yScale,J=A.points,me=ua({points:J,width:le,height:V,debug:X}),_e=me.delaunay,ge=me.voronoi;O.exports.useEffect(function(){B&&(B.current=H.current),H.current.width=re*a,H.current.height=z*a;var R=H.current.getContext("2d");R.scale(a,a),R.fillStyle=se.background,R.fillRect(0,0,re,z),R.translate(oe.left,oe.top),f.forEach(function(N){if(typeof N=="function"&&N({ctx:R,innerWidth:le,innerHeight:V,series:Q,points:J,xScale:Z,yScale:he,lineWidth:m,lineGenerator:G,areaGenerator:Y,currentPoint:te,setCurrentPoint:K}),N==="grid"&&se.grid.line.strokeWidth>0&&(R.lineWidth=se.grid.line.strokeWidth,R.strokeStyle=se.grid.line.stroke,$&&pr(R,{width:le,height:V,scale:Z,axis:"x",values:C}),w&&pr(R,{width:le,height:V,scale:he,axis:"y",values:M})),N==="axes"&&no(R,{xScale:Z,yScale:he,width:le,height:V,top:v,right:P,bottom:k,left:T,theme:se}),N==="areas"&&g===!0&&(R.save(),R.globalAlpha=y,Y.context(R),Q.forEach(function(ae){R.fillStyle=ae.color,R.beginPath(),Y(ae.data.map(function(ye){return ye.position})),R.fill()}),R.restore()),N==="lines"&&(G.context(R),Q.forEach(function(ae){R.strokeStyle=ae.color,R.lineWidth=m,R.beginPath(),G(ae.data.map(function(ye){return ye.position})),R.stroke()})),N==="points"&&_===!0&&x>0&&J.forEach(function(ae){R.fillStyle=ae.color,R.beginPath(),R.arc(ae.x,ae.y,x/2,0,2*Math.PI),R.fill(),D>0&&(R.strokeStyle=ae.borderColor,R.lineWidth=D,R.stroke())}),N==="mesh"&&X===!0&&(yl(R,ge),te&&vl(R,ge,te.index)),N==="legends"){var fe=Q.map(function(ae){return{id:ae.id,label:ae.id,color:ae.color}}).reverse();E.forEach(function(ae){ao(R,xe({},ae,{data:ae.data||fe,containerWidth:le,containerHeight:V,theme:se}))})}})},[H,re,z,f,se,G,Q,Z,he,$,C,w,M,v,P,k,T,E,J,_,x,te]);var ce=O.exports.useCallback(function(R){var N=on(H.current,R),fe=N[0],ae=N[1];if(!oo(oe.left,oe.top,le,V,fe,ae))return null;var ye=_e.find(fe-oe.left,ae-oe.top);return J[ye]},[H,oe,le,V,_e]),be=or(),de=be.showTooltipFromEvent,ee=be.hideTooltip,ve=O.exports.useCallback(function(R){var N=ce(R);K(N),N?de(O.exports.createElement(U,{point:N}),R):ee()},[ce,K,de,ee,U]),we=O.exports.useCallback(function(R){ee(),K(null),te&&I&&I(te,R)},[ee,K,I]),ie=O.exports.useCallback(function(R){if(F){var N=ce(R);N&&F(N,R)}},[ce,F]);return j("canvas",{ref:H,width:re*a,height:z*a,style:{width:re,height:z,cursor:q?"auto":"normal"},onMouseEnter:q?ve:void 0,onMouseMove:q?ve:void 0,onMouseLeave:q?we:void 0,onClick:q?ie:void 0})};Qt.propTypes=wl,Qt.defaultProps=Ol;var Nl=sn(Qt),Fl=O.exports.forwardRef(function(e,t){return j(Nl,xe({},e,{canvasRef:t}))});O.exports.forwardRef(function(e,t){return j(ln,{children:function(r){var n=r.width,a=r.height;return j(Fl,xe({width:n,height:a},e,{ref:t}))}})});W.extend(Zi);function jl({data:e,timeUnit:t,height:r=260,enableLeftTicks:n,enableBottomTicks:a}){const o=Mt();return j($t,{pt:"md",sx:{height:r,width:"100%"},children:!!e[0].data.length&&j(Tl,{data:e,margin:{top:6,right:12,bottom:a?28:6,left:n?56:12},xScale:{type:"time",format:t==="day"?"%Y-%m-%d":"%b",useUTC:!1,precision:t},xFormat:`time:${t==="day"?"%Y-%m-%d":"%b"}`,yScale:{type:"linear"},axisLeft:{tickPadding:10,tickValues:2},axisBottom:{format:t==="day"?"%e":"%b",tickPadding:10,tickValues:`every ${t}`},curve:"monotoneX",defs:[lo("gradient",[{offset:0,color:"inherit"},{offset:100,color:"inherit",opacity:0}])],areaOpacity:o.colorScheme==="dark"?.25:.5,fill:[{match:"*",id:"gradient"}],theme:{textColor:o.colorScheme==="dark"?o.colors.dark[2]:o.colors.gray[6],fontSize:12,axis:{ticks:{line:{strokeWidth:0}}},crosshair:{line:{stroke:o.colorScheme==="dark"?o.colors.dark[1]:o.colors.gray[7]}}},sliceTooltip:({slice:i})=>j(La,{p:"sm",bg:o.colorScheme==="dark"?o.colors.dark[8]:o.colors.gray[1],shadow:o.shadows.md,children:i.points.map(s=>$e(nn,{spacing:"sm",children:[j(Ia,{size:14,color:s.serieColor}),j(it,{size:"sm",color:"dimmed",inline:!0,children:t==="day"?W(s.data.xFormatted).format("dddd, D MMM"):W(s.data.xFormatted,"MMM").format("MMMM YYYY")}),$e(it,{size:"sm",weight:"bold",inline:!0,children:["$",s.data.yFormatted]})]},s.id))}),colors:[o.colors[o.primaryColor][5]],enableGridX:!1,enableGridY:!1,pointSize:8,pointBorderWidth:2,pointLabelYOffset:-12,enableArea:!0,enableSlices:"x",useMesh:!0,motionConfig:"default"})})}function Vl({visibleNumbers:e}){const[t,r]=Ea({key:"earnings-filters",defaultValue:{timeframe:"week",excludedDays:["0"],enableLeftTicks:!1,enableBottomTicks:!0},getInitialValueInEffect:!1}),n=h=>{r(y=>({...y,...h}))},[a,o]=O.exports.useState([null,null]),[i,s]=t.timeframe==="custom"?a.map(h=>W(h)):[W().startOf(t.timeframe),W()],l=[Lt("status","==","delivered"),Lt("deliveredTimestamp",">=",i.valueOf())];t.timeframe==="custom"&&l.push(Lt("deliveredTimestamp","<=",s.endOf("day").valueOf()));const c=Ta(Na,...l),[u]=Fa(c),{data:f,timeUnit:p,totalEarnings:m,orderCount:g}=O.exports.useMemo(()=>{const{timeframe:h}=t,y=t.excludedDays.map(S=>+S);let _=[],x="day",b=0,D=0;if(u){const S={},$=h==="year"?"MMM":"YYYY-MM-DD";x=h==="year"?"month":"day";for(let C=0;C<=s.diff(i,x);C++){const w=i.add(C,x),M=w.format($);(h==="year"||!y.includes(w.day()))&&(S[M]=0)}u.forEach(C=>{const w=W(C.deliveredTimestamp),M=w.format($);y.includes(w.day())||(S[M]+=C.price,D++)}),Object.entries(S).forEach(([C,w])=>{_.push({x:C,y:w}),b+=w})}return{data:_,timeUnit:x,totalEarnings:b,orderCount:D}},[t.excludedDays,u]);return $e(Bt,{children:[j(ja,{in:!!u,style:{minHeight:336},children:$e(Bt,{spacing:0,children:[j(co,{items:[{text:e?`$${m.toLocaleString()}`:"*****",sub:"Total"},{text:g,sub:"Orders"}]}),j(rn,{in:e&&f.length>1,children:j(jl,{data:[{id:"Earnings",data:f}],timeUnit:p,enableLeftTicks:t.enableLeftTicks,enableBottomTicks:t.enableBottomTicks})})]})}),j(Ui,{filters:t,updateFilter:n,dateRange:a,setDateRange:o})]})}export{Vl as default};
